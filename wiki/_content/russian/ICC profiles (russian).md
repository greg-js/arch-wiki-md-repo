**Состояние перевода:** На этой странице представлен перевод статьи [ICC profiles](/index.php/ICC_profiles "ICC profiles"). Дата последней синхронизации: 3 марта 2018\. Вы можете [помочь](/index.php/ArchWiki_Translation_Team_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "ArchWiki Translation Team (Русский)") синхронизировать перевод, если в английской версии произошли [изменения](https://wiki.archlinux.org/index.php?title=ICC_profiles&diff=0&oldid=512551).

Поскольку это относится к общему использованию настольных систем, [ICC профиль](https://en.wikipedia.org/wiki/ICC_profile "wikipedia:ICC profile") представляет собой двоичный файл, который содержит точные данные о цветовых атрибутах ввода или устройства вывода. Один или несколько профилей могут быть применены к системе и ее устройствам для получения согласованных и повторяемых результатов для редактирования и публикации графики и документов. Профили ICC обычно откалиброваны с помощью [(трехцветного) колориметра](https://en.wikipedia.org/wiki/Tristimulus_colorimeter "wikipedia:Tristimulus colorimeter") или спектрофотометром, когда требуется абсолютная точность цветопередачи.

## Contents

*   [1 Генерация профиля](#.D0.93.D0.B5.D0.BD.D0.B5.D1.80.D0.B0.D1.86.D0.B8.D1.8F_.D0.BF.D1.80.D0.BE.D1.84.D0.B8.D0.BB.D1.8F)
    *   [1.1 Колориметр или спектрофотометр](#.D0.9A.D0.BE.D0.BB.D0.BE.D1.80.D0.B8.D0.BC.D0.B5.D1.82.D1.80_.D0.B8.D0.BB.D0.B8_.D1.81.D0.BF.D0.B5.D0.BA.D1.82.D1.80.D0.BE.D1.84.D0.BE.D1.82.D0.BE.D0.BC.D0.B5.D1.82.D1.80)
    *   [1.2 Argyll CMS](#Argyll_CMS)
    *   [1.3 Калибровка и профилирование монитора с помощью дополнительного калибровочного оборудования](#.D0.9A.D0.B0.D0.BB.D0.B8.D0.B1.D1.80.D0.BE.D0.B2.D0.BA.D0.B0_.D0.B8_.D0.BF.D1.80.D0.BE.D1.84.D0.B8.D0.BB.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.BC.D0.BE.D0.BD.D0.B8.D1.82.D0.BE.D1.80.D0.B0_.D1.81_.D0.BF.D0.BE.D0.BC.D0.BE.D1.89.D1.8C.D1.8E_.D0.B4.D0.BE.D0.BF.D0.BE.D0.BB.D0.BD.D0.B8.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.BE.D0.B3.D0.BE_.D0.BA.D0.B0.D0.BB.D0.B8.D0.B1.D1.80.D0.BE.D0.B2.D0.BE.D1.87.D0.BD.D0.BE.D0.B3.D0.BE_.D0.BE.D0.B1.D0.BE.D1.80.D1.83.D0.B4.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F)
    *   [1.4 Калибровка сканера](#.D0.9A.D0.B0.D0.BB.D0.B8.D0.B1.D1.80.D0.BE.D0.B2.D0.BA.D0.B0_.D1.81.D0.BA.D0.B0.D0.BD.D0.B5.D1.80.D0.B0)
    *   [1.5 Калибровка принтера](#.D0.9A.D0.B0.D0.BB.D0.B8.D0.B1.D1.80.D0.BE.D0.B2.D0.BA.D0.B0_.D0.BF.D1.80.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D0.B0)
    *   [1.6 Передача файла](#.D0.9F.D0.B5.D1.80.D0.B5.D0.B4.D0.B0.D1.87.D0.B0_.D1.84.D0.B0.D0.B9.D0.BB.D0.B0)
    *   [1.7 Gnome Color Manager](#Gnome_Color_Manager)
        *   [1.7.1 Инструкция](#.D0.98.D0.BD.D1.81.D1.82.D1.80.D1.83.D0.BA.D1.86.D0.B8.D1.8F)
    *   [1.8 LPROF ICC Profiler](#LPROF_ICC_Profiler)
        *   [1.8.1 Калибровка монитора](#.D0.9A.D0.B0.D0.BB.D0.B8.D0.B1.D1.80.D0.BE.D0.B2.D0.BA.D0.B0_.D0.BC.D0.BE.D0.BD.D0.B8.D1.82.D0.BE.D1.80.D0.B0)
            *   [1.8.1.1 Контраст/Яркость](#.D0.9A.D0.BE.D0.BD.D1.82.D1.80.D0.B0.D1.81.D1.82.2F.D0.AF.D1.80.D0.BA.D0.BE.D1.81.D1.82.D1.8C)
            *   [1.8.1.2 Цветовая температура](#.D0.A6.D0.B2.D0.B5.D1.82.D0.BE.D0.B2.D0.B0.D1.8F_.D1.82.D0.B5.D0.BC.D0.BF.D0.B5.D1.80.D0.B0.D1.82.D1.83.D1.80.D0.B0)
        *   [1.8.2 Профилирование монитора без дополнительного устройства калибровки](#.D0.9F.D1.80.D0.BE.D1.84.D0.B8.D0.BB.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.BC.D0.BE.D0.BD.D0.B8.D1.82.D0.BE.D1.80.D0.B0_.D0.B1.D0.B5.D0.B7_.D0.B4.D0.BE.D0.BF.D0.BE.D0.BB.D0.BD.D0.B8.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.BE.D0.B3.D0.BE_.D1.83.D1.81.D1.82.D1.80.D0.BE.D0.B9.D1.81.D1.82.D0.B2.D0.B0_.D0.BA.D0.B0.D0.BB.D0.B8.D0.B1.D1.80.D0.BE.D0.B2.D0.BA.D0.B8)
    *   [1.9 ThinkPads](#ThinkPads)
*   [2 Загрузка ICC профилей](#.D0.97.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B0_ICC_.D0.BF.D1.80.D0.BE.D1.84.D0.B8.D0.BB.D0.B5.D0.B9)
    *   [2.1 xcalib](#xcalib)
        *   [2.1.1 Пример Xinitrc](#.D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80_Xinitrc)
        *   [2.1.2 Пример JWM <StartupCommand>](#.D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80_JWM_.3CStartupCommand.3E)
    *   [2.2 dispwin](#dispwin)
        *   [2.2.1 Пример Xinitrc](#.D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80_Xinitrc_2)
        *   [2.2.2 Пример JWM <StartupCommand>](#.D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80_JWM_.3CStartupCommand.3E_2)
*   [3 Приложения, поддерживающие профили ICC](#.D0.9F.D1.80.D0.B8.D0.BB.D0.BE.D0.B6.D0.B5.D0.BD.D0.B8.D1.8F.2C_.D0.BF.D0.BE.D0.B4.D0.B4.D0.B5.D1.80.D0.B6.D0.B8.D0.B2.D0.B0.D1.8E.D1.89.D0.B8.D0.B5_.D0.BF.D1.80.D0.BE.D1.84.D0.B8.D0.BB.D0.B8_ICC)
*   [4 Смотрите также](#.D0.A1.D0.BC.D0.BE.D1.82.D1.80.D0.B8.D1.82.D0.B5_.D1.82.D0.B0.D0.BA.D0.B6.D0.B5)

## Генерация профиля

Управление цветом - это рабочий процесс калибровки оборудования, программного профилирования и встраивания профиля в изображение или видео. Все это основано на использовании [ICC профиля](https://en.wikipedia.org/wiki/ICC_profile "wikipedia:ICC profile").

### Колориметр или спектрофотометр

Настоятельно рекомендуется использовать колориметр или спектрометрическое устройство для калибровки оборудования, печати принтера и сканера. Для домашнего использования доступно несколько недорогих колориметров. Некоторые из них хорошо или даже лучше поддерживаются в Linux, чем в других операционных системах. Часто рекомендуемыми устройствами являются [X-Rite ColorMunki Display](http://www.xrite.com/colormunki-display), [DataColor Spyder5 Express](http://spyder.datacolor.com/portfolio-view/spyder5express/) и устройство с открытым исходным кодом [ColorHug](http://www.hughski.com/). Вы можете найти другие поддерживаемые Linux устройства, перечисленные в [документации к AgyllCMS](http://www.argyllcms.com/doc/instruments.html).

### Argyll CMS

[Система управления цветом Argyll](http://www.argyllcms.com/) - это полный набор инструментов для создания и загрузки профиля в командной строке, перечисленных в разделе [argyllcms](https://www.archlinux.org/packages/?name=argyllcms).

Ознакомьтесь с официальной [документацией Argyll CMS](http://www.argyllcms.com/doc/ArgyllDoc.html), чтобы узнать, как профилировать выбранные устройства.

### Калибровка и профилирование монитора с помощью дополнительного калибровочного оборудования

Существует интерфейс GUI для ArgyllCMS, называемый [DisplayCal](http://displaycal.net), доступный как [displaycal](https://www.archlinux.org/packages/?name=displaycal). В большинстве случаев вам подойдут настройки по умолчанию. Это обычный способ калибровки цвета при дневном свете 6500К и гаммой 2,2\. Подробнее читайте в документации DispalGui. Многие учебные пособия доступны в сети.

### Калибровка сканера

Следуйте инструкциям из части Scanner [в руководстве Color Management on Linux](https://blog.simon-dreher.de/color-management.html).

### Калибровка принтера

Смотрите [cups-calibrate(8)](https://jlk.fjfi.cvut.cz/arch/manpages/man/cups-calibrate.8).

### Передача файла

Генерация профиля в системе Windows или macOS является одним из самых простых и наиболее рекомендуемых способов получения ICC профиля для монитора. Поскольку цветовые профили ICC записываются в открытую спецификацию, они совместимы в разных операционных системах. Передача профилей из одной ОС в другую может быть использована в качестве обходного пути из-за отсутствия поддержки определенных спектрофотометров или колориметров в Linux: можно просто создать профиль на другой ОС, а затем использовать его в рабочем процессе Linux. Обратите внимание, что система, на которой создается профиль, должна размещать ту же самую видеокарту и монитор, для которых должен использоваться профиль. После создания профиля ICC или серии профилей в системе Windows скопируйте файл(ы) из пути по умолчанию:

```
C:\WINDOWS\System32\spool\drivers\color

```

macOS обычно сохраняет сохраненные профили ICC в одном из двух местоположений:

```
/Library/ColorSync/Profiles
/Users/USER_NAME/Library/ColorSync/Profile

```

Как только соответствующие `.icc/.icm` файлы будут скопированы, установите профили устройств в нужную вам систему. Каталоги профилей устройств в Linux:

```
/usr/share/color/icc
/usr/local/share/color/icc
/home/USER_NAME/.color/icc

```

**Примечание:** убедитесь, что калиброванные настройки контраста, яркости и RGB на мониторе не изменяются между временем калибровки и загрузкой профиля ICC. Используйте этот метод только в том случае, если вы абсолютно уверены, что ни Linux, ни другая ОС ничего не делают за вашей спиной (в видеодрайверах или утилитах поставщика), которая изменяет сигнал, фактически отправленный на монитор, или способ, которым монитор интерпретирует сигнал. Следите за «Broadcast RGB» или аналогичными настройками. Один конкретный пример, когда профилирование в Windows и Linux дает [значительно разные результаты](https://bugzilla.kernel.org/show_bug.cgi?id=70721). Это ноутбук Lenovo Ideapad Yoga 2 Pro, потому что эти ОС программируют контроллер плоскопанельного дисплея по-разному.

### Gnome Color Manager

В Gnome профиль ICC можно легко создать с помощью [gnome-color-manager](https://www.archlinux.org/packages/?name=gnome-color-manager). В Gnome это доступно через Центр управления и довольно просто использовать. Для использования этой функции вам понадобится колориметрическое устройство.

#### Инструкция

Убедитесь, что запущен *gnome-settings-daemon* и запущен:

```
$ colormgr get-devices

```

Найдите `Device ID` строку вашего монитора. Если это, например `xrandr-Lenovo Group Limited`, начните калибровать с помощью команды:

```
gcm-calibrate --device "*xrandr-Lenovo Group Limited*"

```

### LPROF ICC Profiler

[LPROF](http://lprof.sourceforge.net/) является профилировщиком ICC с графическим интерфейсом пользователя, указанным в [lprof](https://aur.archlinux.org/packages/lprof/) в [AUR](/index.php/AUR "AUR").

**Примечание:** следующее пошаговое руководство было изменено из статьи [Using LPROF to profile monitors](/index.php/Using_LPROF_to_profile_monitors "Using LPROF to profile monitors").

#### Калибровка монитора

##### Контраст/Яркость

Отрегулируйте освещение в помещении так же, как вы будете использовать его при работе. Даже если ваш экран покрыт антибликовым покрытием, вы должны избегать попадания света прямо на него. Пусть ваш монитор прогревается в течение как минимум часа, чтобы изображение стабилизировалось. Если ваше калибровочное устройство имеет рассеиватель окружающей среды, отрегулируйте яркость вашей комнаты, чтобы достичь рекомендуемой целевой точки люкс.

1.  Установите контраст монитора на максимум или на 100%.
2.  Затем отобразите чистый черный на весь экран, создав небольшое черно-белое изображение PNG (все пиксели имеют RGB = 0, 0, 0) и открыв его в просмотрщике изображений, которое может отображать изображение в полноэкранном режиме без каких-либо элементов управления.
3.  Уменьшите вертикальный размер экрана монитора (не изображение PNG, отображаемое средством просмотрщиком, а все то, что отображается на экране) до 60% до 70% от полной высоты. То, что показано выше и ниже изображения, называется *незасканированной областью*, и поскольку эта область не получает никакого напряжения, она является самой черной из черных, которую способен отображать ваш монитор.
4.  Найдите регулятор яркости (обычно это солнце, круг с лучами, выступающими из его краев) и опустите значение до тех пор, пока черное *изображение* не будет соответствовать не сканируемой области.

##### Цветовая температура

Как мы сказали во введении, установка цветовой температуры должна произойти в полдень. Если у вас есть только фиксированная заводская цветовая температура по умолчанию, вам не нужно ждать солнечного дня. Просто установите его на 6500K.

Поместите монитор так, чтобы вы могли видеть за окном *и* экраном одновременно. Для этого шага вам также нужно создать белое квадратное изображение (RGB = 255, 255, 255), примерно 10 на 10 сантиметров (4 на 3 дюйма). Используя тот же метод Gwenview, что и яркость/контраст, отобразите белый квадрат на черном фоне.

1.  Во-первых, приготовь глаза, глядя на внешний мир некоторое время. Позвольте им приспособиться к условию просмотра дневного света в течение нескольких минут.
2.  Взгляните на монитор и белый квадрат на несколько секунд (это должно быть недолго, потому что глаза быстро отрегулируются).
3.  Если квадрат кажется желтоватым, вам нужна более высокая цветовая температура, или если у него синеватый оттенок, необходимо понизить температуру.
4.  Держите взгляд, глядя в окно и регулируя температуру белого, пока квадрат не станет чистым белым.

Не спешите с описанными выше шагами. Важно, чтобы все было правильно.

#### Профилирование монитора без дополнительного устройства калибровки

Запустить lprof. Вам будет представлено довольно большое окно с несколькими вкладками справа.

1.  Перейдите на вкладку *Monitor Profiler*. Затем нажмите на кнопку *Enter monitor values >>*.
2.  Точка белого должна быть установлена ​​на *6500K (daylight)*.
3.  Основной цвет должен быть установлен либо *SMPTE RP145-1994*, или *EBU Tech.3213-E* или *P22*, либо любые подходящие значения для вашего монитора. Если вы встретите правильные значения для своего монитора, введите их, выбрав *User Defined* в раскрывающемся списке. Если вы сомневаетесь, вы можете использовать *P22* для всех мониторов с ЭЛТ Trinitron (в этом случае *Trinitron* не связан с Sony Trinitron мониторами и телевизорами), и *SMPTE RP145-1994* для остальных ЭЛТ.
4.  Нажмите кнопку *Set Gamma and Black Point*.
5.  Теперь вы увидите полноэкранное представление двух диаграмм с некоторыми элементами управления внизу.
6.  Снимите флажок *Link channels* и настройте индивидуальную красную, зеленую и синюю гамму, перемещая ползунок влево или вправо, или введя и изменив значения в трех прямоугольниках слева. Цель состоит в том, чтобы сделать диаграмму слева (меньшая квадратная) плоской. Когда вы удовлетворены тем, как это выглядит, установите флажок *Link channels* и снова настройте гамму.
7.  Когда все будет готово, нажмите *OK*. Еще раз *OK*.

Когда вы закончите ввод значений монитора, вы можете ввести некоторую информацию о мониторе. Это не обязательно, но всегда приятно знать, какой профиль для чего.

1.  Нажмите кнопку *Profile identification*.
2.  Заполните данные.
3.  Нажмите *OK* для завершения.

После того, как все будет готово, нажмите кнопку '...' рядом с полем *Output Profile File*. Введите имя своего профиля: *somemonitor.icc*. Нажмите кнопку *Create Profile* и все готово.

### ThinkPads

Смотрите [цветовые профили](http://www.thinkwiki.org/wiki/Colour_profile) для IBM/Lenovo [ThinkPad](https://en.wikipedia.org/wiki/ThinkPad "wikipedia:ThinkPad") ноутбуков [monitor profile](http://www-307.ibm.com/pc/support/site.wss/migr-62923.html) ([generic](http://www-307.ibm.com/pc/support/site.wss/migr-44320.html)) в поддержке.

## Загрузка ICC профилей

Профили ICC загружаются либо демоном сеанса, либо специальным загрузчиком ICC. У Gnome и KDE есть демоны, способные загружать профили ICC из [colord](https://www.archlinux.org/packages/?name=colord). Если вы используете colord в сочетании с [gnome-settings-daemon](https://www.archlinux.org/packages/?name=gnome-settings-daemon) или [colord-kde](https://www.archlinux.org/packages/?name=colord-kde), профиль будет загружен автоматически. Если вы не используете ни Gnome, ни KDE, вы можете установить независимый демон, [xiccd](https://github.com/agalakhov/xiccd), который делает то же самое, но не зависит от среды вашего рабочего стола. Не запускайте одновременно два демона, совместимых с ICC (например, gnome-settiongs-daemon и xiccd).

Если вы не используете какой-либо ICC-capable демон, убедитесь, что вы используете только один загрузчик ICC - либо xcalib, dispwin, dispcalGUI-apply-profiles, либо другие, иначе вы легко получите неконтролируемую среду. (Последний загрузчик установил калибровку, а ранее загруженная калибровка была перезаписана.)

Прежде чем использовать какой-либо конкретный загрузчик ICC, вы должны понимать, что некоторые инструменты устанавливают только калибровочные кривые (например, xcalib), другие инструменты, устанавливающие только профиль отображения на X.org _ICC_PROFILE atom (например, xicc) и другие инструменты, выполняют обе задачи сразу (например, dispwin, dispcalGUI-apply-profiles).

### xcalib

*   [xcalib](http://xcalib.sourceforge.net/) - это легкий загрузчик монитора, который может загружать профиль монитора ICC для совместного использования в десктоп приложениях. [xcalib](https://aur.archlinux.org/packages/xcalib/) является частью репозитория пользователей Arch (AUR).

#### Пример Xinitrc

Загружаемый профиль `P221W-sRGB.icc` в `/usr/share/color/icc` на монитор host:0 при запуске X сервера

```
#!/bin/bash

/usr/bin/xcalib -d :0 /usr/share/color/icc/P221W-sRGB.icc
```

#### Пример JWM `<StartupCommand>`

Загружаемый профиль `P221W-Native.icc` в `/usr/local/share/color/icc` на монитор host:0 при запуске JWM

```
 `<StartupCommand>`xcalib -d :0 /usr/local/share/color/icc/P221W-Native.icc`</StartupCommand>`

```

### dispwin

*   [dispwin](http://www.argyllcms.com/doc/dispwin.html) является частью [argyllcms](https://www.archlinux.org/packages/?name=argyllcms).

#### Пример Xinitrc

Загружаемый профиль `906w-6500K.icc` в `/home/arch/.color/icc` на монитор 0 при запуске X сервера

```
#!/bin/bash

/usr/bin/dispwin -d0 /home/arch/.color/icc/906w-6500K.icc
```

#### Пример JWM `<StartupCommand>`

Загрузить калибровочный файл Argyll `906w-7000K.cal` в `/usr/local/share/color/icc` на монитор 1 при запуске JWM

```
 `<StartupCommand>`dispwin -d1 /usr/local/share/color/icc/906w-7000K.cal`</StartupCommand>`

```

Вы можете легко использовать один из этих загрузчиков для применения цветового профиля на ранней стадии загрузки при запуске экранного менеджера, например, используя [загрузочный скрипт LightDM](https://wiki.ubuntu.com/LightDM#Adding_System_Hooks). Это позволяет загрузить один файл профиля icc. Это не будет работать с загрузкой нескольких файлов профиля при использовании настройки multi monitopr.

## Приложения, поддерживающие профили ICC

*   [Xsane](http://www.xsane.org/doc/sane-xsane-color-management-doc.html) может использовать профили ICC для сканирования с коррекцией цвета.
*   [CUPS](/index.php/CUPS "CUPS") может использовать профили ICC для печати с исправлением цвета с использованием [Colord](https://www.freedesktop.org/software/colord/faq.html#cups), но фактическая реализация и удобство использования [неясны](https://lists.cups.org/pipermail/cups/2016-December/056399.html).
*   [GIMP](/index.php/GIMP "GIMP") может использовать профили ICC для отображения редактируемого изображения. Однако использование установленного профиля ICC должно быть явно включено в диалоговом окне настроек.
*   [mpv](/index.php/Mpv "Mpv") может учитывать профиль ICC при воспроизведении видео. Аргумент командной строки: `--icc-profile=/path/to/profile.icc` или `--icc-profile-auto`. Только `--vo=opengl` управление цветом; другие драйверы VO будут молча игнорировать параметры профиля ICC.
*   [Firefox](/index.php/Firefox "Firefox") по умолчанию использует общесистемный профиль ICC только при отображении изображений, уже отмеченных профилем ICC. Предположим, что немаркированные изображения используют sRGB и применяют к ним цветокоррекцию, задают `gfx.color_management.mode` предпочтение 1.
*   [Eye of Gnome](https://www.archlinux.org/packages/?name=eog) и [Eye of MATE](https://www.archlinux.org/packages/?name=eom) автоматически используют установленный системой профиль ICC.

## Смотрите также

*   [Using LPROF to profile monitors](/index.php/Using_LPROF_to_profile_monitors "Using LPROF to profile monitors") - Дополнительная информация о том, как профилировать мониторы
*   [Wikipedia:Linux color management](https://en.wikipedia.org/wiki/Linux_color_management "wikipedia:Linux color management")
*   [Argyll Color Management System](http://www.argyllcms.com/) - официальный сайт
*   [LPROF Main Help Window](http://lprof.sourceforge.net/help/lprof-help.html) - Подробная информация о профилирующих принтерах и сканерах
*   [DisplayCal: базовая концепция калибровки дисплея и профилирования](http://displaycal.net/#concept)
*   [Отображение цветового профилирования в Linux (XFCE)](https://encrypted.pcode.nl/blog/2013/11/24/display-color-profiling-on-linux/)
*   [Monitor Hardware Calibration](https://linuxtidbits.wordpress.com/2013/04/20/handling-display-calibration/)