[Vim](https://en.wikipedia.org/wiki/ru:Vim "wikipedia:ru:Vim") является расширенной версией [vi](https://en.wikipedia.org/wiki/ru:vi "wikipedia:ru:vi") с дополнительными функциями, которые помогают редактировать исходный код. Некоторые улучшения Vim включают в себя: сравнение файлов (vimdiff), подсветку синтаксиса, полноценную систему помощи, встроенную поддержка скриптов (vimscript) и визуальный режим для простоты выделения.

Vim фокусируется на использовании клавиатуры; он не является простым текстовым редактором, как, например, nano или pico. Он требует много усилий для освоения и еще больше времени для привыкания.

## Contents

*   [1 Установка](#.D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0)
*   [2 Использование](#.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5)
    *   [2.1 Основы редактирования](#.D0.9E.D1.81.D0.BD.D0.BE.D0.B2.D1.8B_.D1.80.D0.B5.D0.B4.D0.B0.D0.BA.D1.82.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F)
    *   [2.2 Перемещение](#.D0.9F.D0.B5.D1.80.D0.B5.D0.BC.D0.B5.D1.89.D0.B5.D0.BD.D0.B8.D0.B5)
    *   [2.3 Повтор команд](#.D0.9F.D0.BE.D0.B2.D1.82.D0.BE.D1.80_.D0.BA.D0.BE.D0.BC.D0.B0.D0.BD.D0.B4)
    *   [2.4 Удаление](#.D0.A3.D0.B4.D0.B0.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5)
    *   [2.5 Отмена и повтор](#.D0.9E.D1.82.D0.BC.D0.B5.D0.BD.D0.B0_.D0.B8_.D0.BF.D0.BE.D0.B2.D1.82.D0.BE.D1.80)
    *   [2.6 Визуальный режим](#.D0.92.D0.B8.D0.B7.D1.83.D0.B0.D0.BB.D1.8C.D0.BD.D1.8B.D0.B9_.D1.80.D0.B5.D0.B6.D0.B8.D0.BC)
    *   [2.7 Поиск и замена](#.D0.9F.D0.BE.D0.B8.D1.81.D0.BA_.D0.B8_.D0.B7.D0.B0.D0.BC.D0.B5.D0.BD.D0.B0)
    *   [2.8 Открытие, сохранение и выход](#.D0.9E.D1.82.D0.BA.D1.80.D1.8B.D1.82.D0.B8.D0.B5.2C_.D1.81.D0.BE.D1.85.D1.80.D0.B0.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B8_.D0.B2.D1.8B.D1.85.D0.BE.D0.B4)
    *   [2.9 Дополнительные команды](#.D0.94.D0.BE.D0.BF.D0.BE.D0.BB.D0.BD.D0.B8.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D1.8B.D0.B5_.D0.BA.D0.BE.D0.BC.D0.B0.D0.BD.D0.B4.D1.8B)
*   [3 Настройка](#.D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0)
    *   [3.1 Подсветка синтаксиса](#.D0.9F.D0.BE.D0.B4.D1.81.D0.B2.D0.B5.D1.82.D0.BA.D0.B0_.D1.81.D0.B8.D0.BD.D1.82.D0.B0.D0.BA.D1.81.D0.B8.D1.81.D0.B0)
    *   [3.2 Визуальный перенос](#.D0.92.D0.B8.D0.B7.D1.83.D0.B0.D0.BB.D1.8C.D0.BD.D1.8B.D0.B9_.D0.BF.D0.B5.D1.80.D0.B5.D0.BD.D0.BE.D1.81)
    *   [3.3 Использование мыши](#.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.BC.D1.8B.D1.88.D0.B8)
    *   [3.4 Переход на новую строку с помощью клавиш со стрелками](#.D0.9F.D0.B5.D1.80.D0.B5.D1.85.D0.BE.D0.B4_.D0.BD.D0.B0_.D0.BD.D0.BE.D0.B2.D1.83.D1.8E_.D1.81.D1.82.D1.80.D0.BE.D0.BA.D1.83_.D1.81_.D0.BF.D0.BE.D0.BC.D0.BE.D1.89.D1.8C.D1.8E_.D0.BA.D0.BB.D0.B0.D0.B2.D0.B8.D1.88_.D1.81.D0.BE_.D1.81.D1.82.D1.80.D0.B5.D0.BB.D0.BA.D0.B0.D0.BC.D0.B8)
    *   [3.5 Пример ~/.vimrc](#.D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80_.7E.2F.vimrc)
*   [4 Объединение файлов](#.D0.9E.D0.B1.D1.8A.D0.B5.D0.B4.D0.B8.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2)
*   [5 Советы и рекомендации](#.D0.A1.D0.BE.D0.B2.D0.B5.D1.82.D1.8B_.D0.B8_.D1.80.D0.B5.D0.BA.D0.BE.D0.BC.D0.B5.D0.BD.D0.B4.D0.B0.D1.86.D0.B8.D0.B8)
    *   [5.1 Помощь](#.D0.9F.D0.BE.D0.BC.D0.BE.D1.89.D1.8C)
    *   [5.2 Нумерация строк](#.D0.9D.D1.83.D0.BC.D0.B5.D1.80.D0.B0.D1.86.D0.B8.D1.8F_.D1.81.D1.82.D1.80.D0.BE.D0.BA)
    *   [5.3 Проверка орфографии](#.D0.9F.D1.80.D0.BE.D0.B2.D0.B5.D1.80.D0.BA.D0.B0_.D0.BE.D1.80.D1.84.D0.BE.D0.B3.D1.80.D0.B0.D1.84.D0.B8.D0.B8)
    *   [5.4 Сохранение позиции курсора](#.D0.A1.D0.BE.D1.85.D1.80.D0.B0.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D0.BE.D0.B7.D0.B8.D1.86.D0.B8.D0.B8_.D0.BA.D1.83.D1.80.D1.81.D0.BE.D1.80.D0.B0)
    *   [5.5 Запуск Vim по команде vi](#.D0.97.D0.B0.D0.BF.D1.83.D1.81.D0.BA_Vim_.D0.BF.D0.BE_.D0.BA.D0.BE.D0.BC.D0.B0.D0.BD.D0.B4.D0.B5_vi)
    *   [5.6 Возврат каретки DOS/Windows](#.D0.92.D0.BE.D0.B7.D0.B2.D1.80.D0.B0.D1.82_.D0.BA.D0.B0.D1.80.D0.B5.D1.82.D0.BA.D0.B8_DOS.2FWindows)
    *   [5.7 Пустое пространство в нижней части окон gVim](#.D0.9F.D1.83.D1.81.D1.82.D0.BE.D0.B5_.D0.BF.D1.80.D0.BE.D1.81.D1.82.D1.80.D0.B0.D0.BD.D1.81.D1.82.D0.B2.D0.BE_.D0.B2_.D0.BD.D0.B8.D0.B6.D0.BD.D0.B5.D0.B9_.D1.87.D0.B0.D1.81.D1.82.D0.B8_.D0.BE.D0.BA.D0.BE.D0.BD_gVim)
*   [6 Плагины](#.D0.9F.D0.BB.D0.B0.D0.B3.D0.B8.D0.BD.D1.8B)
    *   [6.1 Установка](#.D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_2)
        *   [6.1.1 Используя менеджер плагинов](#.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D1.83.D1.8F_.D0.BC.D0.B5.D0.BD.D0.B5.D0.B4.D0.B6.D0.B5.D1.80_.D0.BF.D0.BB.D0.B0.D0.B3.D0.B8.D0.BD.D0.BE.D0.B2)
        *   [6.1.2 Из репозиториев Arch](#.D0.98.D0.B7_.D1.80.D0.B5.D0.BF.D0.BE.D0.B7.D0.B8.D1.82.D0.BE.D1.80.D0.B8.D0.B5.D0.B2_Arch)
        *   [6.1.3 cscope](#cscope)
        *   [6.1.4 Taglist](#Taglist)
*   [7 Смотрите также](#.D0.A1.D0.BC.D0.BE.D1.82.D1.80.D0.B8.D1.82.D0.B5_.D1.82.D0.B0.D0.BA.D0.B6.D0.B5)
    *   [7.1 Официальные ресурсы](#.D0.9E.D1.84.D0.B8.D1.86.D0.B8.D0.B0.D0.BB.D1.8C.D0.BD.D1.8B.D0.B5_.D1.80.D0.B5.D1.81.D1.83.D1.80.D1.81.D1.8B)
    *   [7.2 Руководства](#.D0.A0.D1.83.D0.BA.D0.BE.D0.B2.D0.BE.D0.B4.D1.81.D1.82.D0.B2.D0.B0)
        *   [7.2.1 Видео](#.D0.92.D0.B8.D0.B4.D0.B5.D0.BE)
        *   [7.2.2 Игры](#.D0.98.D0.B3.D1.80.D1.8B)
    *   [7.3 Примеры конфигурации](#.D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80.D1.8B_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D0.B8)
    *   [7.4 Другие](#.D0.94.D1.80.D1.83.D0.B3.D0.B8.D0.B5)

## Установка

[Установите](/index.php/%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D0%B5 "Установите") один из следующих пакетов:

*   [vim](https://www.archlinux.org/packages/?name=vim) — версия с поддержкой интерпретаторов Python 2/3, Lua, Ruby и Perl но без поддержки GTK/X.
*   [gvim](https://www.archlinux.org/packages/?name=gvim) — идентичен `vim`, но имеет поддержку GTK/X.

**Обратите внимание:** Пакет `vim` не имеет поддержки X, из - за этого вы не сможете ничего скопировать в системный буфер с помощью команды `"+y`, вы должны установить пакет `gvim`; Далее, запустите Vim с помощью команды `vim`, поддержка X будет включенна.

**Обратите внимание:** Неофициальный репозиторий [herecura-stable](/index.php/Unofficial_user_repositories#herecura-stable "Unofficial user repositories") также предоставляет несколько версий Vim/gVim: `vim-cli`, `vim-gvim-common`, `vim-gvim-gtk`, `vim-gvim-qt`, `vim-rt` и `vim-tiny`.

## Использование

Здесь представлен поверхностный обзор использования Vim. Вы также можете запустить _vimtutor_/_gvimtutor_ для отображения руководства по использованию Vim.

Vim имеет четыре различных режима:

*   Командный режим (Command mode): отображается приглашение для ввода команд.
*   Режим ввода (Insert mode): непосредственный ввод текста.
*   Визуальный режим (Visual mode): в этом режиме вы можете выделять, копировать и вставлять текст.
*   Режим [Ex](https://en.wikipedia.org/wiki/ru:ex_(Unix) "wikipedia:ru:ex (Unix)") (Ex mode): режим ввода дополнительных команд из редактора Ex (например, сохранение файла, замена текста и т.д.).

### Основы редактирования

Если вы запустите Vim с помощью:

```
$ vim _файл.txt_

```

то вы увидите пустой документ (при условии что `_файл.txt_` не существует; если он существует, вы увидите его содержимое). Вы будете не в состоянии редактировать файл — сейчас вы в Командном режиме. В этом режиме вы отдаете команды Vim с помощью клавиатуры.

**Обратите внимание:** Vim является классическим примером подхода Unix. Он имеет сложную систему обучения, но как только вы начнете с ним работать, вы увидите, что он является чрезвычайно мощным. Также, все команды чувствительны к регистру. Иногда команды в верхнем регистре более "сильные" (к примеру, `s` заменяет символ, в то время как `S` заменяет строку). Иногда это совершенно разные команды (`j` перемещает вниз, в то время как `J` объединяет две строки).

Вы пишете текст (он вставляется перед курсором) с помощью команды `i`. Та же команда в верхнем регистре (`I`) вставляет текст в начало строки. Для добавления текста после курсора, наберите `a`. Ввод `A` переместит курсор в конец текущей строки. Вы можете вернуться в командный режим в любое время, нажав клавишу `Esc`.

### Перемещение

Вы можете перемещать курсор с помощью клавиш со стрелками, но это не **подход Vim**. Вам придется полностью передвигать вашу правую руку от положения набора текста к клавишам со стрелками, а затем обратно. Не слишком весело.

Чтобы переместиться вниз нажав `j`; вернуться обратно наверх вы можете нажатием `k`. Передвинуть курсор влево — `h`, вправо — `l` (`L` в нижнем регистре).

`^` переместит курсор в начало строки, а `$` переместит его в конец.

**Обратите внимание:** `^` и `$` обычно используют в регулярных выражениях, и обозначают соответственно начало и конец строки. Регулярные выражения очень мощны и обычно используются в *nix системах. Множество клавиш для команд Vim выбраны не случайным образом — в основе выбора часто лежит какая-то идея.

`w` переместит курсор через слово. `W` сделает то же самое, но при этом включается несколько больше символов в то, что Vim считает словом (например, знак подчеркивания и минус). `b` и `B` работают аналогично, но перемещают курсор в обратном направлении. Наконец, чтобы переместиться в конец текущего слова, используйте `e` и `E` соответственно.

`(` переместит курсор в начало предложения. `)` делает обратное, перемещая его в конец предложения. Для передвижения по абзацу используйте `{` и `}`.

`H` переместит курсор наверх экрана, `M` — в центр, `L` — вниз. `gg` переместит курсор в начало файла, `G` — в конец.

### Повтор команд

Если перед командой стоит число, то эта команда будет выполняться столько раз, сколько ввел пользователь (есть исключения, но идея все та же — например, при использовании с командой `s`). Например, печатая `3i` затем `Help!` , эта команда выведет `2}`. Печатая `2}` вы перенесетесь на два абзаца вперед. Это бывает очень удобно со следующими командами.

### Удаление

Команда `x` удаляет символ под курсором. `X` удалит символ перед курсором. Это именно те команды, с которыми можно повеселиться. `6x` удалит 6 символов. Нажав `.` (точка) вы повторите предыдущую команду. Итак, к примеру у вас есть слово `foobar` в нескольких местах, но потом вы ходите сделать из него слово `foo`. Поместите курсор под `b` и введите `3x`. Теперь переместитесь к символу `b` следующего слова `foobar` и нажмите `.` (точка).

Команда `d` говорит Vim, что вы хотите что-то удалить. После ввода `d` надо указать Vim, что вы именно хотите удалить. Здесь вы можете использовать команды перемещения. `dW` удалит все до следующего слова. `d^` удалит все до начала линии. Также, команды будут работать если перед ними будет число: `3dW` удалит три слова. `D` (верхний регистр) это команда для удаления всего до конца линии (имеет тот же эффект, что и `d$`). `dd` удалит всю линию.

Для замены текущего слова, поместите курсор над ним и наберите команду `cw`. Это удалит слово и переведет редактор в режим ввода. Аналогично, `s` удаляет один символ под курсором и переведет редактор в режим ввода. `S` удалит строку целиком и переведет редактор в режим ввода. Чтобы просто заменить один символ, используйте `r`, `R` переведет вас в режим замены.

### Отмена и повтор

Vim имеет встроенный буфер обмена. Вы можете отменять действия при помощи `u`, и возвращать их обратно с помощью `Ctrl+r`.

### Визуальный режим

Нажав `v`, вы перейдете в визуальный режим. Здесь вы передвигаете курсор чтобы выделять текст, когда вы закончили, нажмите `y` чтобы скопировать текст в буфер, иначе используйте `c` чтобы вырезать его. `p` вставляет вырезанное после курсора, `P` — перед курсором. Введите `V` для режима визуальной строки, выделение по линиям. Введите `Ctrl+v` для визуального блока, выделение по блокам.

**Обратите внимание:** Когда вы удаляете что-либо, это сохраняется в буфер и доступно для вставки.

### Поиск и замена

Для поиска буквы или слова в файле, просто нажмите `/`, введите символы, которые требуется найти и нажмите `Enter`. Чтобы искать введенную последовательность далее, нажимайте `n`; нажатием `N` вы вернетесь к предыдущему результату поиска.

Для [поиска и замены](http://vim.wikia.com/wiki/Search_and_replace) используйте команду замены `:s/`. Синтаксис: `_[диапазон]_s///_[аргументы]_`. Например:

```
Команда         Результат
:s/xxx/yyy/     Замена xxx на yyy в первом вхождении
:s/xxx/yyy/g    Замена xxx на yyy в каждом вхождении на текущей строке
:s/xxx/yyy/gc   Замена xxx на yyy во всем файле с подтверждением каждой замены
:%s/xxx/yyy/g   Замена xxx на yyy во всем файле
:#,#s/xxx/yyy/g Замена xxx на yyy в диапазоне строк

```

Вы можете использовать глобальную команду `:g/` для поиска по регулярному выражению, а затем выполнения какой-либо команды для каждого совпадения. Синтаксис: `_[диапазон]_:g//_[команда]_`.

```
Команда  Результат
:g/^#/d  Удаление всех строк, которые начинаются с #
:g/^$/d  Удаление всех пустых строк

```

### Открытие, сохранение и выход

Для сохранения и/или выхода, вам понадобится режим Ex. Команды режима Ex предваряются символом `:`. Чтобы записать файл, используйте `:w`, либо, если создаете новый файл, используйте `w _имя_файла_`. Выйти можно при помощи `:q`. Если вы не хотите сохранять изменения, используйте `:q!`. Для того чтобы сохранить изменения и выйти, используйте `:x`. Открытие нового файла осуществляется командой `:e имяфайла`, а перезагрузка при помощи `:e`.

### Дополнительные команды

1.  `dd` удалит текущую строку (используйте `ddp` для быстрой смены строки).
2.  `cc` удалит текущую строку и переведет вас в режим ввода.
3.  `o` создаст новую строку ниже текущей и переведет вас в режим замены, `O` создаст новую строку выше текущей и переведет вас в режим замены.
4.  `yy` скопирует всю строку в буфер.
5.  `*` подсветит текущее слово и `n` используется для его поиска.

## Настройка

Чтобы получить более-менее стандартное поведение (например, подсветку синтаксиса), добавьте пример настроек Vim в `/etc/vimrc/`:

 `/etc/vimrc/` 

```
...

runtime! vimrc_example.vim

```

### Подсветка синтаксиса

Чтобы включить подсветку синтаксиса (Vim поддерживает огромный список языков программирования):

```
:filetype plugin on
:syntax on

```

### Визуальный перенос

Опция `wrap` (включена по умолчанию) указывает Vim переносить длинные строки, которые не помещаются на экран, так, что оставшаяся часть строки отображается на следующей линии. Опция `wrap` влияет только на отображение текста, сам текст при этом не изменяется.

Изначально перенос строки происходит ровно в том месте, где размещается последний ее символ, поместившийся на экране, даже если он находится в середине слова. Для более умного переноса используйте опцию `linebreak`. Когда эта опция включена командой `set linebreak`, перенос строки происходит только после символов, которые перечислены в опции `breakat`, которая по умолчанию содержит в себе пробел и некоторые знаки препинания (смотрите `:help breakat`).

Остаток строки обычно начинается с начала следующей линии, без всякого отступа. Опция [breakindent](https://retracile.net/wiki/VimBreakIndent) сообщает Vim, что необходимо отображать перенесенный остаток строки с отступом, так, что на всех последующих линиях перенесенные части строки имеют тот же отступ, что и начало этой строки. Поведение `breakindent` может быть настроено при помощи опции `breakindentopt`. Например, для файлов исходного кода на языке Python может быть полезно добавлять дополнительный отступ в 4 пробела для перенесенных частей длинной строки (подробнее смотрите в `:help breakindentopt`):

```
autocmd FileType python set breakindentopt=shift:4

```

### Использование мыши

Vim позволяет пользоваться мышью, но только в тех терминалах, которые это поддерживают (вас нужен [xterm](/index.php/Xterm "Xterm") с установленным [gpm](https://www.archlinux.org/packages/?name=gpm), смотрите подробнее на странице [Console mouse support](/index.php/Console_mouse_support "Console mouse support")).

Чтобы включить эту особенность, добавьте линию в `~/.vimrc`:

```
set mouse=a

```

**Обратите внимание:**

*   Это работает даже в PuTTY через SSH.
*   Копирование текста выделением мышью в PuTTY просто так работать не будет, потому что Vim входит в визуальный режим, когда используется мышь. Чтобы нормально выделять текст мышкой, удерживайте при этом `Shift`.

### Переход на новую строку с помощью клавиш со стрелками

По умолчанию, при нажатии `←` в начале строки или `→` в конце, курсор не переводится на следующую/предыдущую строку.

Это можно исправить с помощью добавления строки `set whichwrap=b,s,<,>,[,]` в ваш файл `~/.vimrc`.

### Пример ~/.vimrc

Смотрите [Vim/.vimrc](/index.php/Vim/.vimrc "Vim/.vimrc").

## Объединение файлов

Vim включает в себя diff-редактор (программа, которая отображает различия между двумя файлами и позволяет удобно их объединять). Используйте vimdiff для этого — просто укажите ей пару файлов: `vimdiff _файл1_ _файл2_`. Ниже приведен список команд _vimdiff_. Основы по использованию Vim читайте в разделе [#Использование](#.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5).

| Действие | Горячая клавиша |
| следующие изменение | `]c` |
| предыдущее изменение | `[c` |
| diff obtain | `do` |
| diff put | `dp` |
| развернуть блок | `zo` |
| свернуть блок | `zc` |
| перечитать файлы | `:diffupdate` |
| переключить окна | `Ctrl+w+w` |

## Советы и рекомендации

Здесь представлены некоторые советы и рекомендации, которые позволят вам эффективнее работать в Vim и помогут в выполнении некоторых специфичных задач.

### Помощь

Vim включает в себя широкую справочную систему, доступ к которой можно получить посредством команды `:h` или `:h _субъект_`; субъекты включают в себя основы использования конфигурационных опций. Другие субъекты, которые подсвечены, могу быть использованы, если переместить на них курсор и набрать `Ctrl-]`, используйте `Ctrl-T` чтобы вернуться обратно. Наберите `:q`, чтобы закрыть окно помощи.

### Нумерация строк

1.  `:set number` — обычная нумерация строк.
2.  `:set relativenumber` — относительная нумерация строк.
3.  `:_номер_строки_` — переход на строку по номеру.

### Проверка орфографии

Проверку орфографии в Vim можно включить с помощью:

```
set spell

```

По умолчанию установлен только английский словарь. Другие словари можно найти в [официальных репозиториях](/index.php/Official_repositories_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Official repositories (Русский)") по запросу `vim-spell`. Еще больше словарей можно найти в [FTP-архиве Vim](http://ftp.vim.org/vim/runtime/spell/). Словари необходимо поместить в каталог для словарей — `~/.vim/spell/`. Включить словарь можно командой `:setlocal spell spelllang=_ru_yo_` (заменив `_ru_yo_` на имя нужного словаря).

| Действие | Команда |
| следующая ошибка | `]s` |
| предыдущая ошибка | `[s` |
| предложения для исправления | `z=` |
| добавить правильное написание | `zg` |
| добавить правильное написание (на сеанс) | `zG` |
| добавить неправильное написание | `zw` |
| добавить неправильное написание (на сеанс) | `zW` |
| повторить проверку орфографии во всем файле | `:spellr` |

**Совет:**

*   Чтобы включить проверку сразу для двух языков (например, английского и русского), добавьте `set spelllang=_en,ru_` в `~/.vimrc` или `/etc/vimrc` и перезапустите Vim.
*   Вы можете включить проверку орфографии для конкретных типов файлов (например _.txt_), используя плагин FileType и собственное правило для определения типа файла. Чтобы включить проверку орфографии для всех файлов, оканчивающихся на _.txt_, создайте файл `/usr/share/vim/vimfiles/ftdetect/plaintext.vim` и вставьте туда строку: `autocmd BufRead,BufNewFile *.txt setfiletype plaintext`. Далее, вставьте строку `autocmd FileType plaintext setlocal spell spelllang=_ru_` в файл `~/.vimrc` или `/etc/vimrc` и перезапустите Vim.
*   Чтобы включить проверку орфографии только для документов LaTeX (или TeX), добавьте `autocmd FileType **tex** setlocal spell spelllang=_ru_` в файл `~/.vimrc` или `/etc/vimrc` и перезапустите Vim.

### Сохранение позиции курсора

Если вы хотите, чтобы курсор [возвращался в прежнее положение](http://vim.wikia.com/wiki/Restore_cursor_to_file_position_in_previous_editing_session) после открытия файла, добавьте следующее в `~/.vimrc`:

```
augroup resCur
  autocmd!
  autocmd BufReadPost * call setpos(".", getpos("'\""))
augroup END

```

### Запуск Vim по команде vi

Создайте [псевдоним](/index.php/Bash#Aliases "Bash") для `vi` на `vim`.

Если вы хотите, чтобы при вводе `sudo vi` запускался `vim`, то [установите](/index.php/%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D0%B5 "Установите") пакет [vi-vim-symlink](https://aur.archlinux.org/packages/vi-vim-symlink/), который удалит `vi` и заменить его символической ссылкой на `vim`.

### Возврат каретки DOS/Windows

Если вы видите последовательность `^M` в конце каждой линии, это означает, что вы редактируете текстовый файл, который был создан в MS-DOS или Windows. Дело в том, что в Linux для переноса принято использовать один символ новой строки (LR), тогда как в системах Windows/MS DOS для той же цели используется последовательность из двух символов: возврата каретки (CR) и новой строки (LR). Как раз эти символы возврата каретки и отображаются в виде `^M`.

Для удаления всех символов возврата каретки из файла, выполните:

```
:%s/^M//g

```

Обратите внимание, что `^` здесь — управляющий символ, а не обычный. Чтобы ввести управляющую последовательность `^M`, нажмите `Ctrl+v,Ctrl+m`.

Также вы можете просто установить пакет [dos2unix](https://www.archlinux.org/packages/?name=dos2unix) и исправлять файлы командой `dos2unix _файл_`.

### Пустое пространство в нижней части окон gVim

Когда используется [оконный менеджер](/index.php/%D0%9E%D0%BA%D0%BE%D0%BD%D0%BD%D1%8B%D0%B9_%D0%BC%D0%B5%D0%BD%D0%B5%D0%B4%D0%B6%D0%B5%D1%80 "Оконный менеджер"), настроенный на игнорирование размеров окна, gVim заполняет неиспользованные области окна стандартным фоновым цветом темы GTK.

Решение заключается в регулировании количества места, которое будет резервировать в нижней части окна gVim. Поместите следующую строку в `~/.vimrc`:

```
set guiheadroom=0

```

**Обратите внимание:** Установив значение 0, вы не сможете видеть горизонтальную полосу прокрутки внизу окна.

## Плагины

Плагины могут помочь повысить эффективность вашей работы в Vim. Они могут менять интерфейс Vim, добавлять новые команды, поддержку завершения кода, интеграцию других программ и утилит с Vim, поддержку дополнительных языков и многое другое.

### Установка

#### Используя менеджер плагинов

Менеджер плагинов позволяет устанавливать плагины и управлять ими одинаковым образом независимо от того, на какой системе вы запускаете Vim. Он представляет собой специальный плагин, который выполняет роль пакетного менеджера для других плагинов.

*   [Vundle](https://github.com/gmarik/Vundle.vim) — в настоящее время наиболее популярный менеджер плагинов Vim.
*   [Vim-plug](https://github.com/junegunn/vim-plug) - минималистичный менеджер плагинов для Vim, который имеет много особенностей, например, загрузка плагинов по запросу и параллельное обновление.
*   [pathogen.vim](https://github.com/tpope/vim-pathogen) — простой плагин для управления переменной runtimepath.

#### Из репозиториев Arch

Группа [vim-plugins](https://www.archlinux.org/groups/x86_64/vim-plugins/) объединяет множество разнообразных плагинов. Используйте команду `pacman -Sg vim-plugins` для отображения списка пакетов, которые вы можете затем [установить](/index.php/Pacman_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)#.D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D0.BE.D0.BF.D1.80.D0.B5.D0.B4.D0.B5.D0.BB.D0.B5.D0.BD.D0.BD.D1.8B.D1.85_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D0.BE.D0.B2 "Pacman (Русский)"), используя pacman.

#### cscope

[Cscope](http://cscope.sourceforge.net/) является инструментом для навигации по программному проекту. Путем перехода к слову/символу/функции и вызову cscope (обычно с помощью горячих клавиш) можно найти: функции, которые вызывают данную, определение функции и многое другое.

[Установите](/index.php/%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D0%B5 "Установите") пакет [cscope](https://www.archlinux.org/packages/?name=cscope).

Скопируйте стандартный файл cscope, который Vim будет автоматически читать:

```
mkdir -p ~/.vim/plugin
wget -P ~/.vim/plugin [http://cscope.sourceforge.net/cscope_maps.vim](http://cscope.sourceforge.net/cscope_maps.vim)

```

**Обратите внимание:** Вам наверное понадобится откомментировать следующие строки в `~/.vim/plugin/cscope_maps.vim`, чтобы включить горячие клавиши cscope в Vim 7.x:

```
set timeoutlen=4000
set ttimeout
```

Создайте файл, который содержит список файлов для индексации (cscope может обрабатывать множество языков, но для примера мы возьмем файлы на Си/Си++ с расширениями _.c_, _.cpp_ и _.h_):

```
cd _/путь/к/каталогу/проекта_
find . -type f -print | grep -E '\.(c(pp)?|h)$' > cscope.files

```

Создание файлы базы данных, которые cscope будет читать:

```
cscope -bq

```

**Обратите внимание:** cscope ищет файл `cscope.out` в рабочем каталоге, поэтому тот же каталог следует использовать и для навигации по проекту в Vim. Также, вы можете указать путь до этого файла явно, установив его в переменной окружения `$CSCOPE_DB`.

Горячие клавиши по умолчанию:

```
 Ctrl-\ и
      c: найти функции вызывающие эту функцию
      d: найти функции вызываемые этой функцией
      e: найти egrep паттерн
      f: найти этот файл
      g: найти это определение
      i: найти файлы, включающие этот файл (#include)
      s: найти этот символ Си
      t: найти присвоения

```

Не стесняйтесь изменять горячие клавиши:

```
#Maps ctrl-c to find functions calling the function
nnoremap <C-c> :cs find c <C-R>=expand("<cword>")<CR><CR>

```

#### Taglist

[Taglist](http://vim-taglist.sourceforge.net/) отображает структуру файлов исходного кода и позволяет эффективно просматривать исходники на различных языках программирования.

[Установите](/index.php/%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D0%B5 "Установите") пакет [vim-taglist](https://www.archlinux.org/packages/?name=vim-taglist).

Полезные опции можно записать в `~/.vimrc`:

```
let Tlist_Compact_Format = 1
let Tlist_GainFocus_On_ToggleOpen = 1
let Tlist_Close_On_Select = 1
nnoremap <C-l> :TlistToggle<CR>

```

## Смотрите также

### Официальные ресурсы

*   [Домашняя страница](http://www.vim.org/)
*   [Документация](http://vimdoc.sourceforge.net/)
*   [Vim Wiki](http://vim.wikia.com)

### Руководства

*   [vim Tutorial and Primer](http://www.danielmiessler.com/study/vim/)
*   [vi Tutorial and Reference Guide](http://usalug.org/vi.html)
*   [Graphical vi-Vim Cheat Sheet and Tutorial](http://www.viemu.com/a_vi_vim_graphical_cheat_sheet_tutorial.html)
*   [Vim Introduction and Tutorial](http://blog.interlinked.org/tutorials/vim_tutorial.html)
*   [Open Vim](http://www.openvim.com/) - Коллекция средств обучения Vim.
*   [Learn Vim Progressively](http://yannesposito.com/Scratch/en/blog/Learn-Vim-Progressively/)
*   [Learning Vim in 2014](http://benmccormick.org/learning-vim-in-2014/)
*   [Seven habits of effective text editing](http://www.moolenaar.net/habits.html)

#### Видео

*   [Vimcasts](http://vimcasts.org/) - Скринкаст в формате .ogg.
*   [Vim Tutorial Videos](http://derekwyatt.org/vim/tutorials/) - От основ к продвинутым темам.

#### Игры

*   [Vim Adventures](http://vim-adventures.com/)
*   [VimGolf](http://vimgolf.com/)

### Примеры конфигурации

*   [nion](http://nion.modprobe.de/setup/vimrc)
*   [Детальная конфигурация от Amir Salihefendic](http://amix.dk/vim/vimrc.html)
*   [Bart Trojanowski](http://www.jukie.net/~bart/conf/vimrc)
*   [Дистрибьютор Vim Steve Francia](https://github.com/spf13/spf13-vim)
*   [Конфигурация Vim W4RH4W](https://github.com/W4RH4WK/dotVim)
*   [vimrc/colorscheme от askapache](http://www.askapache.com/linux/fast-vimrc.html)
*   [Базовый vimrc](https://gist.github.com/anonymous/c966c0757f62b451bffa)

### Другие

*   [HOWTO Vim](http://www.gentoo-wiki.info/HOWTO_VIM) — Статья Gentoo Wiki на которой базировался раздел Использование.
*   [Vivify](http://bytefluent.com/vivify/) — Редактор colorscheme для Vim.
*   [Usevim](http://www.usevim.com/) — Часто обновляемый блог о плагинах, хитростях и т.д.
*   [Vim Awesome](http://vimawesome.com/) — Сайт, сортирующий плагины Vim по популярности среди пользователей GitHub.
*   [Basic Vim Tips](http://bencrowder.net/files/vim-fu/) — Справочная таблица Vim, в первую очередь ориентированная на начинающих.
*   [Vim colorscheme customization](https://linuxtidbits.wordpress.com/2014/10/14/vim-customize-installed-colorschemes/) — Руководство по настройке установленной colorscheme.