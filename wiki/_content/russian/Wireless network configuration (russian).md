Ссылки по теме

*   [Программная точка доступа](/index.php/%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%BD%D0%B0%D1%8F_%D1%82%D0%BE%D1%87%D0%BA%D0%B0_%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%B0 "Программная точка доступа")
*   [Ad-hoc networking](/index.php/Ad-hoc_networking "Ad-hoc networking")
*   [Раздача интернета](/index.php/%D0%A0%D0%B0%D0%B7%D0%B4%D0%B0%D1%87%D0%B0_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82%D0%B0 "Раздача интернета")
*   [Wireless bonding](/index.php/Wireless_bonding "Wireless bonding")
*   [Network Debugging](/index.php/Network_Debugging "Network Debugging")
*   [Bluetooth (Русский)](/index.php/Bluetooth_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Bluetooth (Русский)")

Основную статью по настройке сети можно найти на странице [Настройка сети](/index.php/%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_%D1%81%D0%B5%D1%82%D0%B8 "Настройка сети").

Настройка беспроводного соединения происходит в два этапа. На первом этапе необходимо определить и установить правильный драйвер сетевого интерфейса (обычно драйвер находится на установочном носителе, но иногда его приходится устанавливать вручную), после чего произвести настройку. Второй этап заключается в выборе способа управления беспроводными соединениями. В этой статье описаны оба этапа, а также представлены ссылки на утилиты управления беспроводными соединениями.

В разделе [#iw](#iw) описана ручная настройка беспроводного интерфейса / локальной сети посредством утилиты [iw](https://www.archlinux.org/packages/?name=iw). В статье [Настройка сети#Сетевые менеджеры](/index.php/%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_%D1%81%D0%B5%D1%82%D0%B8#Сетевые_менеджеры "Настройка сети") вы найдёте список программ (в том числе и с графическим интерфейсом), которые используются для автоматического управления сетевым интерфейсом. В них реализована поддержка сетевых профилей, что бывает удобно при частой смене беспроводных сетей (как это бывает, например, с ноутбуками).

<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none">

## Contents

<label class="toctogglelabel" for="toctogglecheckbox"></label>

*   [1 Драйвер устройства](#Драйвер_устройства)
    *   [1.1 Проверка состояния драйвера](#Проверка_состояния_драйвера)
    *   [1.2 Установка драйвера/прошивки](#Установка_драйвера/прошивки)
*   [2 Утилиты](#Утилиты)
    *   [2.1 Сравнение iw и wireless_tools](#Сравнение_iw_и_wireless_tools)
*   [3 iw](#iw)
    *   [3.1 Определение имени интерфейса](#Определение_имени_интерфейса)
    *   [3.2 Определение состояния интерфейса](#Определение_состояния_интерфейса)
    *   [3.3 Включение интерфейса](#Включение_интерфейса)
    *   [3.4 Обнаружение точек доступа](#Обнаружение_точек_доступа)
    *   [3.5 Выбор режима работы](#Выбор_режима_работы)
    *   [3.6 Соединение с точкой доступа](#Соединение_с_точкой_доступа)
*   [4 Wi-Fi Protected Access](#Wi-Fi_Protected_Access)
    *   [4.1 WPA2 Personal](#WPA2_Personal)
    *   [4.2 WPA2 Enterprise](#WPA2_Enterprise)
        *   [4.2.1 eduroam](#eduroam)
        *   [4.2.2 Ручная/автоматическая настройка](#Ручная/автоматическая_настройка)
            *   [4.2.2.1 wpa_supplicant](#wpa_supplicant)
            *   [4.2.2.2 NetworkManager](#NetworkManager)
            *   [4.2.2.3 connman](#connman)
            *   [4.2.2.4 netctl](#netctl)
        *   [4.2.3 Проблемы](#Проблемы)
            *   [4.2.3.1 MS-CHAPv2](#MS-CHAPv2)
*   [5 Советы и хитрости](#Советы_и_хитрости)
    *   [5.1 Соответствие регламентам](#Соответствие_регламентам)
*   [6 Решение проблем](#Решение_проблем)
    *   [6.1 Временный доступ к сети Интернет](#Временный_доступ_к_сети_Интернет)
    *   [6.2 Предостережения Rfkill](#Предостережения_Rfkill)
    *   [6.3 Просмотр логов](#Просмотр_логов)
    *   [6.4 Энергосбережение](#Энергосбережение)
    *   [6.5 Не удалось получить IP адрес](#Не_удалось_получить_IP_адрес)
    *   [6.6 Не выполняется разрешение хоста по действительному IP-адресу](#Не_выполняется_разрешение_хоста_по_действительному_IP-адресу)
    *   [6.7 Включение RTS и порог фрагментации](#Включение_RTS_и_порог_фрагментации)
    *   [6.8 Внезапные отключения](#Внезапные_отключения)
        *   [6.8.1 Причина #1](#Причина_#1)
        *   [6.8.2 Причина #2](#Причина_#2)
        *   [6.8.3 Причина #3](#Причина_#3)
        *   [6.8.4 Причина #4](#Причина_#4)
    *   [6.9 Wi-Fi-сеть не видна из-за несоответствия регулятивному домену](#Wi-Fi-сеть_не_видна_из-за_несоответствия_регулятивному_домену)
*   [7 Решение проблем с драйверами и прошивками](#Решение_проблем_с_драйверами_и_прошивками)
    *   [7.1 Ralink/Mediatek](#Ralink/Mediatek)
        *   [7.1.1 rt2x00](#rt2x00)
        *   [7.1.2 rt3090](#rt3090)
        *   [7.1.3 rt3290](#rt3290)
        *   [7.1.4 rt3573](#rt3573)
        *   [7.1.5 rt5572](#rt5572)
        *   [7.1.6 mt7612u](#mt7612u)
    *   [7.2 Realtek](#Realtek)
        *   [7.2.1 rtl8192cu](#rtl8192cu)
        *   [7.2.2 rtl8723ae/rtl8723be](#rtl8723ae/rtl8723be)
        *   [7.2.3 rtl88xxau](#rtl88xxau)
        *   [7.2.4 rtl8822bu](#rtl8822bu)
        *   [7.2.5 rtl8xxxu](#rtl8xxxu)
    *   [7.3 Atheros](#Atheros)
        *   [7.3.1 ath5k](#ath5k)
        *   [7.3.2 ath9k](#ath9k)
            *   [7.3.2.1 Power saving](#Power_saving)
    *   [7.4 Intel](#Intel)
        *   [7.4.1 ipw2100 and ipw2200](#ipw2100_and_ipw2200)
        *   [7.4.2 iwlegacy](#iwlegacy)
        *   [7.4.3 iwlwifi](#iwlwifi)
            *   [7.4.3.1 Bluetooth coexistence](#Bluetooth_coexistence)
        *   [7.4.4 Disabling LED blink](#Disabling_LED_blink)
    *   [7.5 Broadcom](#Broadcom)
    *   [7.6 Other drivers/devices](#Other_drivers/devices)
        *   [7.6.1 Tenda w322u](#Tenda_w322u)
        *   [7.6.2 orinoco](#orinoco)
        *   [7.6.3 prism54](#prism54)
        *   [7.6.4 ACX100/111](#ACX100/111)
        *   [7.6.5 zd1211rw](#zd1211rw)
        *   [7.6.6 hostap_cs](#hostap_cs)
    *   [7.7 ndiswrapper](#ndiswrapper)
    *   [7.8 backports-patched](#backports-patched)
*   [8 Смотрите также](#Смотрите_также)

## Драйвер устройства

Стандартное ядро Arch Linux имеет модульную архитектуру, поэтому многие драйверы для аппаратного обеспечения расположены на жёстком диске и доступны как [модули](/index.php/%D0%9C%D0%BE%D0%B4%D1%83%D0%BB%D0%B8_%D1%8F%D0%B4%D1%80%D0%B0 "Модули ядра"). При загрузке менеджер устройств [udev](/index.php/Udev_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Udev (Русский)") определяет аппаратное обеспечение вашего компьютера и загружает соответствующие модули (драйверы), в результате чего создаётся сетевой *интерфейс*.

Некоторым беспроводным устройствам для работы помимо драйвера необходима ещё и прошивка. Во входящем в группу [base](https://www.archlinux.org/groups/x86_64/base/) пакете [linux-firmware](https://www.archlinux.org/packages/?name=linux-firmware) содержится большое количество образов прошивок, однако проприетаные прошивки в него не входят и должны устанавливаться отдельно. Подробное описание установки дано в разделе [#Установка драйвера/прошивки](#Установка_драйвера/прошивки).

**Примечание:** Если нужный модуль не был загружен менеджером udev при старте системы, просто [загрузите его вручную](/index.php/%D0%9C%D0%BE%D0%B4%D1%83%D0%BB%D0%B8_%D1%8F%D0%B4%D1%80%D0%B0#Управление_модулями_вручную "Модули ядра"). Иногда udev может загружать более одного драйвера для устройства, что приведёт к конфликту и помешает успешному конфигурированию. В этом случае [запретите загрузку](/index.php/%D0%9C%D0%BE%D0%B4%D1%83%D0%BB%D0%B8_%D1%8F%D0%B4%D1%80%D0%B0#Запрет_загрузки "Модули ядра") ненужного модуля.

### Проверка состояния драйвера

Чтобы проверить, загрузился ли драйвер сетевой карты, посмотрите на вывод команд `lspci -k` или `lsusb -v` (в зависимости от того, подключена карта по шине PCI(e) или через USB-порт). Вы должны увидеть используемые драйверы ядра, например:

 `$ lspci -k` 
```
06:00.0 Network controller: Intel Corporation WiFi Link 5100
	Subsystem: Intel Corporation WiFi Link 5100 AGN
	Kernel driver in use: iwlwifi
	Kernel modules: iwlwifi

```

**Примечание:** Если ваша сетевая карта является USB-устройством, выполнение `dmesg | grep usbcore` должно выдать что-то похожее на `usbcore: registered new interface driver rtl8187`.

Также проверьте вывод команды `ip link`, чтобы убедиться, что [сетевой интерфейс](/index.php/%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_%D1%81%D0%B5%D1%82%D0%B8#Сетевые_интерфейсы "Настройка сети") был создан; обычно название беспроводного интерфейса начинается с буквы "w", например, `wlp2s1`. Затем включите интерфейс командой

```
# ip link set *интерфейс* up

```

Например, если интерфейс называется `wlan0`, команда примет вид `ip link set wlan0 up`.

Если вы получили сообщение об ошибке `SIOCSIFFLAGS: No such file or directory` (Нет такого файла или каталога), то скорее всего для функционирования вашего беспроводного устройства необходима соответствующая прошивка.

Проверьте сообщения ядра на предмет загрузки прошивки:

 `$ dmesg | grep firmware` 
```
[   7.148259] iwlwifi 0000:02:00.0: loaded firmware version 39.30.4.1 build 35138 op_mode iwldvm

```

Если там нет интересующей вас информации, проверьте сообщения подробного вывода, относящиеся к определённому вами ранее модулю (в примере ниже `iwlwifi`):

 `$ dmesg | grep iwlwifi` 
```
[   12.342694] iwlwifi 0000:02:00.0: irq 44 for MSI/MSI-X
[   12.353466] iwlwifi 0000:02:00.0: loaded firmware version 39.31.5.1 build 35138 op_mode iwldvm
[   12.430317] iwlwifi 0000:02:00.0: CONFIG_IWLWIFI_DEBUG disabled
...
[   12.430341] iwlwifi 0000:02:00.0: Detected Intel(R) Corporation WiFi Link 5100 AGN, REV=0x6B

```

Если модуль ядра загрузился успешно и интерфейс запущен, можете пропустить следующий раздел.

### Установка драйвера/прошивки

Проверьте, находится ли ваша сетевая карта в числе поддерживаемых:

*   Изучите таблицу [существующих драйверов Linux для беспроводных устройств](https://wireless.wiki.kernel.org/en/users/drivers). Перейдя на страницу определённого драйвера вы найдёте список поддерживаемых устройств. Также можно посмотреть [список идентификаторов Wi-Fi устройств в Linux](https://wikidevi.com/wiki/List_of_Wi-Fi_Device_IDs_in_Linux).
*   В [Ubuntu Wiki](https://help.ubuntu.com/community/WifiDocs/WirelessCardsSupported) есть хороший список беспроводных карт и информация об их поддержке ядром Linux или драйвером пространства пользователя (включая название драйвера).
*   Проверьте ваше устройство на сайте [Linux Wireless Support](http://linux-wless.passys.nl/) или по реестру [hardware compatibility list](http://www.linuxquestions.org/hcl/index.php?cat=10), в котором также содержится список поддерживаемого ядром оборудования.

Если ваша беспроводная карта есть в одном из списков выше, перейдите в раздел [#Решение проблем с драйверами и прошивками](#Решение_проблем_с_драйверами_и_прошивками). В нём содержатся инструкции по установке драйверов и прошивок на некоторые редкие беспроводные карты. Затем [проверьте состояние драйвера](#Проверка_состояния_драйвера) снова.

Если вашей беспроводной карты нет в списках, то скорее всего она поддерживается только в Windows (некоторые Broadcom, 3com и др.). В этом случае вы можете воспользоваться [#ndiswrapper](#ndiswrapper).

## Утилиты

Управление беспроводными сетевыми интерфейсами, как и всеми прочими, осуществляется посредством входящей в пакет [iproute2](https://www.archlinux.org/packages/?name=iproute2) утилиты *ip*.

Для настройки беспроводного соединения необходим определённый набор программ. Для этих целей подойдет либо [сетевой менеджер](/index.php/Network_configuration_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)#Сетевые_менеджеры "Network configuration (Русский)"), либо один из следующих пакетов:

| Утилита | Пакет | [WEXT](https://wireless.wiki.kernel.org/en/developers/documentation/wireless-extensions) | [nl80211](https://wireless.wiki.kernel.org/en/developers/documentation/nl80211) | WEP | WPA/WPA2 | [Archiso](/index.php/Archiso_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Archiso (Русский)") [[1]](https://git.archlinux.org/archiso.git/tree/configs/releng/packages.x86_64) |
| [wireless_tools](http://www.hpl.hp.com/personal/Jean_Tourrilhes/Linux/Tools.html) | [wireless_tools](https://www.archlinux.org/packages/?name=wireless_tools) | Да | Нет | Да | Нет | Да |
| [iw](https://wireless.kernel.org/en/users/Documentation/iw) | [iw](https://www.archlinux.org/packages/?name=iw) | Нет | Да | Да | Нет | Да |
| [WPA supplicant](/index.php/WPA_supplicant_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "WPA supplicant (Русский)") | [wpa_supplicant](https://www.archlinux.org/packages/?name=wpa_supplicant) | Да | Да | Да | Да | Да |
| [iwd](/index.php/Iwd "Iwd") | [iwd](https://www.archlinux.org/packages/?name=iwd) | Нет | Да | Да | Да | Да |

1.  Устарела.

Имейте в виду, что некоторые сетевые карты поддерживают только WEXT.

### Сравнение iw и wireless_tools

Ниже представлено сравнение некоторых команд утилит *iw* и *wireless_tools*. Дополнительные примеры можно найти в статье о [замене iwconfig на iw](http://wireless.kernel.org/en/users/Documentation/iw/replace-iwconfig).

| Команда *iw* | Команда *wireless_tools* | Описание |
| iw dev *wlan0* link | iwconfig *wlan0* | Получение состояния соединения. |
| iw dev *wlan0* scan | iwlist *wlan0* scan | Сканирование доступных точек доступа. |
| iw dev *wlan0* set type ibss | iwconfig *wlan0* mode ad-hoc | Установка режима работы *ad-hoc*. |
| iw dev *wlan0* connect *ваш_essid* | iwconfig *wlan0* essid *ваш_essid* | Подключение к открытой сети. |
| iw dev *wlan0* connect *ваш_essid* 2432 | iwconfig *wlan0* essid *ваш_essid* freq 2432M | Подключение к открытой сети с указанием канала. |
| iw dev *wlan0* connect *ваш_essid* key 0:*ваш_ключ* | iwconfig *wlan0* essid *ваш_essid* key *ваш_ключ* | Подключение к сети с WEP шифрованием шестнадцатеричным ключом. |
| iwconfig *wlan0* essid *ваш_essid* key s:*ваш_ключ* | Подключение к сети с WEP шифрованием ASCII-ключом. |
| iw dev *wlan0* set power_save on | iwconfig *wlan0* power on | Включение режима энергосбережения. |

## iw

**Примечание:**

*   Большая часть представленных ниже команд должна выполняться с [правами root](/index.php/Users_and_groups "Users and groups"). При выполнении от лица обычного пользователя некоторые команды (например, *iw list*) завершат работу без ошибки, но сгенерированный ими вывод либо окажется некорректным, либо будет отсутствовать вовсе.
*   В зависимости от вашего аппаратного обеспечения и типа шифрования некоторые перечисленные ниже шаги могут оказаться не нужны. Некоторые сетевые карты требуют включения интерфейса и/или поиска точки доступа перед привязкой к ней и получением IP-адреса. Возможно, придётся немного поэкспериментировать. Например, пользователи с WPA/WPA2 могут попытаться активировать беспроводную сеть напрямую с шага [#Соединение с точкой доступа](#Соединение_с_точкой_доступа).

В примерах ниже беспроводное устройство с названием `*интерфейс*` устанавливает соединение с точкой доступа Wi-Fi `*ваш_essid*`. Замените названия на свои.

### Определение имени интерфейса

**Совет:** В [официальной документации](http://wireless.kernel.org/en/users/Documentation/iw) утилиты *iw* можно найти дополнительные примеры.

Чтобы узнать название беспроводного интерфейса, выполните:

```
$ iw dev

```

Название интерфейса будет указано после слова "Interface". Например, `wlan0`.

### Определение состояния интерфейса

Чтобы проверить состояние соединения, выполните:

```
$ iw dev *интерфейс* link

```

Статистическую информацию (количество tx/rx байт, мощность сигнала и т.д.) можно получить, введя команду:

```
$ iw dev *интерфейс* station dump

```

### Включение интерфейса

**Совет:** В большинстве случаев выполнять эти действия не требуется.

Некоторые карты требуют включения интерфейса перед использованием *iw* или *wireless_tools*.

```
# ip link set *интерфейс* up

```

**Примечание:** Если получена ошибка вида `RTNETLINK answers: Operation not possible due to RF-kill`, убедитесь, что аппаратный переключатель находится в положении *on*. Дополнительную информацию вы найдёте в разделе [#Предостережения Rfkill](#Предостережения_Rfkill).

Чтобы убедиться, что интерфейс включён, выполните:

 `$ ip link show *интерфейс*`  `3: wlan0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc mq state DOWN mode DORMANT group default qlen 1000 link/ether 12:34:56:78:9a:bc brd ff:ff:ff:ff:ff:ff` 

На включённое состояние интерфейса указывает слово `UP` в `BROADCAST,MULTICAST,UP,LOWER_UP`, а не надпись `state DOWN`.

### Обнаружение точек доступа

Чтобы просмотреть список доступных точек доступа, выполните:

```
# iw dev *интерфейс* scan | less

```

**Примечание:** Если в результате появилось сообщение `Interface does not support scanning` (Интерфейс не поддерживает сканирование), то скорее всего вы забыли установить прошивку. В некоторых случаях это сообщение может появиться, если вы выполнили команду не от имении root.

**Совет:** В зависимости от местоположения вам может понадобиться настроить правильное имя управляющего домена, чтобы увидеть все доступные сети.

Обратите внимание на следующие поля:

*   **SSID**: название сети.
*   **Signal**: мощность беспроводного излучения в единицах dBm (например, от -100 до 0). Более близкие к нулю значения означают лучший сигнал. На основании отображаемой мощности можно получить представление о покрытии сети.
*   **Security**: напрямую не указывается; проверьте строку, которая начинается с `capability`. Если там содержится указание `Privacy`, например, `capability: ESS Privacy ShortSlotTime (0x0411)`, то ваша сеть как-то защищена.
    *   Если вы видите информационный блок `RSN`, то сеть защищена протоколом [Robust Security Network](https://en.wikipedia.org/wiki/ru:IEEE_802.11i-2004 "wikipedia:ru:IEEE 802.11i-2004"), также известным как WPA2.
    *   Если вы видите информационный блок `WPA`, то сеть защищена протоколом [Wi-Fi Protected Access](https://en.wikipedia.org/wiki/ru:WPA "wikipedia:ru:WPA").
    *   В блоках `RSN` и `WPA` может быть указана следующая информация:
        *   **Group cipher:** принимает значения TKIP, CCMP, both, others.
        *   **Pairwise ciphers:** принимает значения TKIP, CCMP, both, others. Может отличаться от значения в Group cipher.
        *   **Authentication suites:** принимает значения PSK, 802.1x, others. Для домашнего маршрутизатора вы скорее всего обнаружите здесь значение PSK (то есть пароль). В университетах вероятнее всего будет сеть 802.1x, что требует логин и пароль. Тогда вам потребуется узнать, какое используется управление ключами (например, EAP), и какой способ инкапсуляции (например, PEAP). Подробную информацию можно найти в разделе [#WPA2 Enterprise](#WPA2_Enterprise) и статье [Wikipedia:Authentication protocol](https://en.wikipedia.org/wiki/Authentication_protocol "wikipedia:Authentication protocol").
    *   Если вы не видите ни `RSN`, ни `WPA`, но есть раздел `Privacy`, то используется защитный протокол WEP.

### Выбор режима работы

Возможно, будет необходимо выбрать подходящий режим работы беспроводной карты. Например, если вы хотите подключиться к [сети ad-hoc](/index.php/Ad-hoc_networking "Ad-hoc networking"), то нужно установить режим работы `ibss`:

```
# iw dev *интерфейс* set type ibss

```

**Примечание:** Смена режима работы на некоторых картах может потребовать отключения беспроводного интерфейса (`ip link set *интерфейс* down`).

### Соединение с точкой доступа

Необходимо привязать устройство к точке доступа и ввести ключ в зависимости от типа шифрования:

*   **Без шифрования** `# iw dev interface connect *"ваш_essid"*` 
*   **WEP**
    *   С использованием шестнадцатеричного ключа (формат ключа определится автоматически, поскольку WEP-ключ имеет фиксированную длину): `# iw dev *интерфейс* connect *"ваш_essid"* key 0:your_key` 
    *   С использованием ASCII-ключа, указав третий ключ в качестве ключа по умолчанию (ключи нумеруются с нуля, всего возможно до четырёх ключей): `# iw dev *интерфейс* connect *"ваш_essid"* key d:2:your_key` 

Вне зависимости от использованного способа, проверьте соединение:

```
# iw dev *интерфейс* link

```

## Wi-Fi Protected Access

### WPA2 Personal

WPA2 Personal, или WPA2-PSK — одна из реализаций технологии [Wi-Fi Protected Access](https://en.wikipedia.org/wiki/ru:WPA "wikipedia:ru:WPA").

Выполнить вход в сеть WPA2 Personal можно посредством утилит [WPA supplicant](/index.php/WPA_supplicant_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "WPA supplicant (Русский)") или [iwd](/index.php/Iwd "Iwd"), а также с помощью [сетевого менеджера](/index.php/Network_configuration_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)#Сетевые_менеджеры "Network configuration (Русский)"). Если вы вошли в данную сеть впервые, то для создания нормально функционирующего соединения необходимо выполнить привязку IP-адреса(-ов) и маршрутов либо [вручную](/index.php/Network_configuration_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)#Статический_IP-адрес "Network configuration (Русский)"), либо с помощью [DHCP](/index.php/Network_configuration_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)#DHCP "Network configuration (Русский)")-клиента.

Ниже описано подключение к сети WPA2 Personal с помощью [WPA supplicant](/index.php/WPA_supplicant_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "WPA supplicant (Русский)"). В частности, этот способ используется при установке Arch Linux по беспроводной сети. Все необходимые команды уже включены в live-сессию.

Сначала выполните шифрование пароля маршрутизатора:

```
# wpa_passphrase *ваш_essid* *ваш_пароль* > /etc/wpa_supplicant/*ваш_essid.conf*

```

Перед запуском wpa_supplicant убедитесь, что соединение существует:

```
# wpa_supplicant -c /etc/wpa_supplicant/*ваш_essid.conf* -i *ваше_беспроводное_устройство*

```

Возможно, вы увидите сообщения об ошибках, но в конце должно появиться сообщение "connected" ("соединено"). Если это так, то нажмите <Ctrl>-c и запустите wpa_supplicant в фоне (background):

```
# wpa_supplicant -B -c /etc/wpa_supplicant/*ваш_essid.conf* -i *ваше_беспроводное_устройство*

```

Наконец, необходимо выполнить привязку IP-адреса. Если вы используете DHCP, выполните:

```
# dhclient *ваше_беспроводное_устройство*

```

На этом настройка беспроводного соединения завершена.

### WPA2 Enterprise

*WPA2 Enterprise* — ещё одна реализация технологии [Wi-Fi Protected Access](https://en.wikipedia.org/wiki/ru:WPA "wikipedia:ru:WPA"). Она предлагает лучшую безопасность и управление ключами по сравнению с *WPA2 Personal*, а также дополнительную функциональность корпоративного типа вроде VLAN и [NAP](https://en.wikipedia.org/wiki/ru:%D0%97%D0%B0%D1%89%D0%B8%D1%82%D0%B0_%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%B0_%D0%BA_%D1%81%D0%B5%D1%82%D0%B8 "wikipedia:ru:Защита доступа к сети"). Для работы этой технологии требуется внешний аутентификационный сервер, [RADIUS](https://en.wikipedia.org/wiki/ru:RADIUS "wikipedia:ru:RADIUS"), обрабатывающий попытки аутентификации пользователей. Это отличает Enterprise-режим от режима Personal, которому не требуется ничего кроме маршрутизатора или точки доступа с одним паролем для всех пользователей.

Корпоративный (Enterprise) режим осуществляет подключение пользователей к сети посредством имени пользователя и пароля и/или цифрового сертификата. Поскольку каждый пользователь обладает уникальным динамическим ключом шифрования, это также позволяет предотвратить отслеживание пользователей в беспроводной сети и усилить шифрование.

Ниже описана настройка [сетевых клиентов](/index.php/List_of_applications#Network_managers "List of applications"), соединяющихся с беспроводной точкой доступа в режиме WPA2 Enterprise. Информацию о настройке самой точки доступа можно найти в статье [Software access point#RADIUS](/index.php/Software_access_point_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)#RADIUS "Software access point (Русский)").

**Примечание:** Корпоративный режим требует более сложной настройки клиента, в то время как режим Personal требует только введения пароля по запросу. Клиентам скорее всего придется установить CA-сертификат сервера (плюс сертификаты пользователей при использовании EAP-TLS), а затем вручную настроить безопасность и аутентификацию по протоколу 802.1X.

Сравнение протоколов сведено в [таблицу](http://deployingradius.com/documents/protocols/compatibility.html).

**Важно:** Существует возможность использовать WPA2 Enterprise без проверки CA-сертификата сервера, однако использовать её не стоит. Без аутентификации точки доступа соединение может стать объектом атаки "человек посередине" ("man-in-the-middle"). Хотя "рукопожатия" обычно зашифрованы, передача пароля чаще всего производится открытым текстом или посредством ненадёжного протокола [#MS-CHAPv2](#MS-CHAPv2). В результате клиент может послать пароль чужой точке доступа, которая станет выполнять роль посредника (proxy) в соединении, прослушивая весь передаваемый через неё трафик.

#### eduroam

[eduroam](https://en.wikipedia.org/wiki/ru:eduroam "wikipedia:ru:eduroam") — международный роуминговый сервис на основе WPA2 Enterprise для лиц, занятых в сфере научно-исследовательской деятельности, высшего образования и дополнительного профессионального образования.

**Примечание:**

*   Перед применением любых настроек, предложенных в этом разделе, рекомендуется сначала проверить их со специалистами вашего учреждения. Предложенные здесь профили настроек предлагаются безо всяких гарантий на предмет работоспособности или соответствия каким-либо требованиям безопасности.
*   При хранении профилей соединения в незашифрованном виде рекомендуется оставить только доступ на чтение для root, выполнив команду `# chmod 600 *профиль*`.

**Совет:** Настройки для утилит [NetworkManager](/index.php/NetworkManager_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "NetworkManager (Русский)") и [#wpa_supplicant](#wpa_supplicant) можно сгенерировать с помощью [eduroam Configuration Assistant Tool](https://cat.eduroam.org/).

#### Ручная/автоматическая настройка

##### wpa_supplicant

[WPA supplicant](/index.php/WPA_supplicant_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)#Расширенное_использование "WPA supplicant (Русский)") настраивается напрямую в его файле настроек или посредством интерфейса; используется вместе с клиентом DHCP. Примеры настроек приведены в файле `/usr/share/doc/wpa_supplicant/wpa_supplicant.conf`.

##### NetworkManager

[NetworkManager](/index.php/NetworkManager_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "NetworkManager (Русский)") может генерировать профили WPA2 Enterprise с помощью [графических интерфейсов](/index.php/NetworkManager_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)#Графические_интерфейсы "NetworkManager (Русский)"). Утилиты *nmcli* и *mntui* эту возможность не поддерживают, но работают с готовыми профилями.

##### connman

[ConnMan](/index.php/ConnMan "ConnMan") требует создания отдельного файла настроек перед [соединением](/index.php/ConnMan#Wi-Fi "ConnMan") с беспроводной сетью. Подробности можно найти в руководстве [connman-service.config(5)](https://jlk.fjfi.cvut.cz/arch/manpages/man/connman-service.config.5) и в статье [Connman#Connecting to eduroam](/index.php/ConnMan#Connecting_to_eduroam_.28802.1X.29 "ConnMan").

##### netctl

[netctl](/index.php/Netctl_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Netctl (Русский)") может использовать настройки [#wpa_supplicant](#wpa_supplicant) посредством блоков `WPAConfigSection=`. Детали вы найдёте в руководстве [netctl.profile(5)](https://jlk.fjfi.cvut.cz/arch/manpages/man/netctl.profile.5).

**Важно:** В настройках netctl особые правила использования кавычек: обратите внимание на раздел `SPECIAL QUOTING RULES` в [netctl.profile(5)](https://jlk.fjfi.cvut.cz/arch/manpages/man/netctl.profile.5).

**Совет:** Можно разрешить произвольный сертификат, добавив строку `'ca_cert="/path/to/special/certificate.cer"'` в блоке `WPAConfigSection`.

#### Проблемы

##### MS-CHAPv2

Беспроводные сети WPA2-Enterprise, полагающиеся на аутентификацию MSCHAPv2 type-2 с использованием PEAP иногда требуют установки [pptpclient](https://www.archlinux.org/packages/?name=pptpclient) помимо стандартного [ppp](https://www.archlinux.org/packages/?name=ppp). [netctl](/index.php/Netctl_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Netctl (Русский)"), однако, работает "из коробки" без ppp-mppe. В любом случае, использование MSCHAPv2 не рекомендуется из-за ненадежности этого протокола, но другого варианта часто просто нет.

## Советы и хитрости

### Соответствие регламентам

## Решение проблем

В этом разделе содержатся основные рекомендации по решению проблем, не связанных непосредственно с драйверами и прошивками. Для получения такой информации смотрите следующий раздел [#Решение проблем с драйверами и прошивками](#Решение_проблем_с_драйверами_и_прошивками).

### Временный доступ к сети Интернет

Если с сетевой платой возникли проблемы и нужен доступ в сеть Интернет, например, чтобы загрузить определённое ПО или задать вопрос на форумах, можно раздать интернет на компьютер с Android-смартфона посредством USB-кабеля. В статье [Android tethering#USB модем](/index.php/Android_tethering_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)#USB_модем "Android tethering (Русский)") вы найдёте поднобную информацию по этому вопросу.

### Предостережения Rfkill

Во многих ноутбуках присутствует аппаратный переключатель (или кнопка) питания беспроводной карты, однако она может быть также заблокирована и ядром. Этим можно управлять через rfkill. Используйте *rfkill*, чтобы посмотреть текущий статус:

 `# rfkill list` 
```
0: phy0: Wireless LAN
	Soft blocked: yes
	Hard blocked: yes

```

Если карта *заблокирована аппаратно* (hard blocked), используйте переключатель (кнопку), чтобы разблокировать её. Если же карта заблокирована не *аппаратно*, a *программно* (soft blocked), используйте следующую команду:

```
# rfkill unblock wifi

```

**Примечание:** Возможно, при нажатии аппаратной кнопки карта из состояния *hard-blocked* и *soft-unblocked* перейдёт в состояние *hard-unblocked* и *soft-blocked* (т.е. бит *soft-blocked* внезапно поменяет значение). Это можно исправить, отрегулировав некоторые опции [модуля ядра](/index.php/Kernel_modules_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Kernel modules (Русский)") `rfkill`.

Включение/выключение беспроводных карт посредством аппаратных переключателей происходит с помощью [модулей ядра](/index.php/Kernel_modules_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Kernel modules (Русский)"). При выходе новых моделей сетевых карт их драйвера могут отсутствовать в последнем стабильном релизе ядра. В этом случае стоит поискать информацию в багтрекере ядра и сообщить название модели сопроводителю соответствующего модуля, если этого ещё никто не сделал.

По [ссылке](http://askubuntu.com/questions/62166/siocsifflags-operation-not-possible-due-to-rf-kill) можно найти дополнительную информацию о Rfkill.

### Просмотр логов

При появлении проблем первым делом стоит изучить файлы системных логов. Чтобы не разбирать их вручную, стоит открыть второй терминал/консоль и отслеживать сообщения ядра, выполнив команду

```
$ dmesg -w

```

непосредственно перед попыткой беспроводной привязки (association).

Если вы используете какую-то утилиту для управления сетью, то же самое можно сделать с помощью systemd:

```
# journalctl -f

```

Связанные с беспроводными устройствами ошибки часто сопровождаются словом *deauthentication* и кодом причины (reason), например:

```
wlan0: deauthenticating from XX:XX:XX:XX:XX:XX by local choice (reason=3)

```

[Код причины](https://www.aboutcher.co.uk/2012/07/linux-wifi-deauthenticated-reason-codes/) может подсказать причину неполадок. Полезно будет также взглянуть на схему движения [управляющих сообщений](https://wireless.wiki.kernel.org/en/developers/documentation/mac80211/auth-assoc-deauth), записи в журнале появляются в соответствии с ней.

Некоторые инструменты, описанные с следующих разделах, предлагают опции для более детализированного отладочного вывода. Они могут помочь при дальнейшем анализе неполадок.

### Энергосбережение

Смотрите раздел [Энергосбережение#Сетевые интерфейсы](/index.php/Power_saving#Network_interfaces "Power saving").

### Не удалось получить IP адрес

*   Если получение IP адреса неоднократно не удаётся при использовании клиента по умолчанию [dhcpcd](https://www.archlinux.org/packages/?name=dhcpcd), попробуйте установить и использовать [dhclient](https://www.archlinux.org/packages/?name=dhclient) вместо него. Не забудьте выбрать *dhclient* как первичный DHCP клиент в вашем [менеджере соединений](#Автоматическая_настройка)!

*   Если вы можете получить IP для проводного интерфейса, но не можете для беспроводного, попробуйте отключить энергосберегающие функции вашей беспроводной карты:

```
# iwconfig wlan0 power off

```

*   Если вы получаете timeout ошибку из-за *waiting for carrier* проблемы, возможно вам понадобится установить канал в `auto` для конкретного устройства:

```
# iwconfig wlan0 channel auto

```

Перед тем как изменить канал на автоматический, убедитесь что вы опустили беспроводной интерфейс. После того, как поменяете канал, можете опять поднять интерфейс.

### Не выполняется разрешение хоста по действительному IP-адресу

Если вы подключились к публичной беспроводной сети с работающим серсвисом [Captive portal](https://en.wikipedia.org/wiki/ru:Captive_portal "wikipedia:ru:Captive portal"), убедитесь, что браузер отправляет запросы по протоколу HTTP, а не HTTPS, поскольку некоторые *порталы* работают только с HTTP. Если причина проблем не в этом, проверьте настройки [разрешения доменных имён](/index.php/Domain_name_resolution "Domain name resolution"). Возможно, нужно просто использовать DNS-сервер, объявленный DHCP.

### Включение RTS и порог фрагментации

Беспроводное аппаратное обеспечение по умолчанию не использует RTS и фрагментацию. Есть два способа повысить производительность (throughput) за счёт пропускной способности (bandwidth) (т.е. надёжность за счёт скорости). Это полезно в случае наличия беспроводного шума или создающих помехи соседних точек доступа, что приводит к задержкам и сбоям.

Фрагментация пакетов увеличивает производительность за счёт разбиения пакетов с размером, превышающим порог фрагментации. Максимальное значение (2346) фактически отключает фрагментацию, поскольку не существует пакетов большего размера. Минимальное значение (256) увеличивает производительность, но требует большей пропускной способности.

```
# iw phy0 set frag 512

```

[RTS](https://en.wikipedia.org/wiki/ru:RTS/CTS "wikipedia:ru:RTS/CTS") увеличивает производительность посредством выполнения *рукопожатий* с точкой доступа перед отправкой пакетов с размером выше порога RTS. Максимальное значение (2347) отключает RTS (т.к. пакеты не могут быть большего размера). Минимальный порог (0) включает RTS для всех пакетов, что в большинстве ситуаций несколько избыточно.

```
# iw phy0 set rts 500

```

**Примечание:** `phy0` — название беспроводного устройства, которое можно узнать с помощью команды `$ iw phy`.

### Внезапные отключения

#### Причина #1

Если в *dmesg* появилось сообщение `wlan0: deauthenticating from MAC by local choice (reason=3)` и произошёл разрыв Wi-Fi соединения, то причина скорее всего кроется в слишком агрессивных настройках энергосбережения вашей беспроводной карты. Попробуйте отключить [энергосбережение](#Энергосбережение) (укажите опцию `off` вместо `on`).

Если у вашей карты нет энергосберегающего режима, проверьте настройки энергопотребления BIOS. Отключение управления энергопотреблением PCI-Express в BIOS на Lenovo W520 решило эту проблему.

#### Причина #2

Если происходят частые отключения и *dmesg* выдаёт сообщение вроде

```
ieee80211 phy0: wlan0: No probe response from AP xx:xx:xx:xx:xx:xx after 500ms, disconnecting

```

попробуйте изменить полосу пропускания канала на `20MHz` на странице настроек вашего маршрутизатора.

#### Причина #3

В некоторых моделях ноутбуков (например, Thinkpad X200) аппаратный переключатель (или его соединение с материнской платой) из-за неудачной конструкции со временем может расшататься. В результате при случайных касаниях переключателя или перемещении ноутбука будут происходить аппаратные блокировки (hardblock) и разрывы соединения. Решить эту проблему программно нельзя, кроме случая, когда переключатель электрический — в БИОС есть настройка его отключения. Если переключатель механический (а чаще всего он именно такой), то существует несколько возможных решений, большинство из которых сводится к отключению переключателя: распаять точку соединения переключателя с материнской платой/беспроводной картой, приклеить или зафиксировать переключатель, подтянуть переключатель гайкой или удалить его насовсем.

#### Причина #4

Причиной частых отключений или невозможности выполнить соединение может быть нестандартная модель маршрутизатора, неправильные настройки или помехи со стороны других беспроводных устройств.

Чтобы решить эту проблему, сначала попробуйте подключиться к маршрутизатору с отключённой аутентификацией.

Если это сработало, включите WPA/WPA2 снова, но с ограниченными настройками. Например:

*   Если маршрутизатор значительно старше вашей беспроводной карты, проверьте, функционирует ли он, выбрав работу только в беспроводном режиме.
*   Отключите смешанную аутентификацию (например, оставьте только WPA2 с AES, или только TKIP в случае старого маршрутизатора).
*   Попробуйте *fixed* или *free* режим канала вместо *auto* (возможно, неподалёку работает старый маршрутизатор, создающий помехи).
*   Отключите [WPS](https://en.wikipedia.org/wiki/ru:Wi-Fi_Protected_Setup "wikipedia:ru:Wi-Fi Protected Setup").
*   Отключите полосу пропускания `40MHz` (производительность упадёт, но зато уменьшится количество коллизий пакетов).
*   Если у маршрутизатора есть настройки [качества обслуживания](https://en.wikipedia.org/wiki/ru:QoS "wikipedia:ru:QoS") (Quality of Service, QoS), проверьте их полноту (например, [WMM](https://en.wikipedia.org/wiki/ru:Wi-Fi_Multimedia "wikipedia:ru:Wi-Fi Multimedia") является одним из протоколов QoS; при неправильной работе ПО маршрутизатор может сообщать, что протокол работает, хотя соответствующая настройка не включена).

### Wi-Fi-сеть не видна из-за несоответствия регулятивному домену

При соединении по беспроводной сети список используемых на вашей машине беспроводных каналов может не совпасть с перечнем разрешённых каналов в вашей стране. В результате не получится обнаружить некоторые Wi-Fi сети. Для решения этой проблемы необходимо настроить регулятивный домен (regulatory domain), как описано в разделе [#Соответствие регламентам](#Соответствие_регламентам).

## Решение проблем с драйверами и прошивками

В этом разделе описана установка модулей ядра и прошивок некоторых специфических чипсетов для случаев, когда она отличается от стандартного способа.

Информацию о приёмах работы с модулями можно найти в статье [Модули ядра](/index.php/%D0%9C%D0%BE%D0%B4%D1%83%D0%BB%D0%B8_%D1%8F%D0%B4%D1%80%D0%B0 "Модули ядра").

### Ralink/Mediatek

#### rt2x00

Для чипсетов Ralink (как rt2500,rt61,rt73 др.). Совместимы с wpa_supplicant, используют wext как интерфейс драйвера. Этот драйвер сейчас (в 2.6.24) является частью ядра и может быть загружен вручную например так...

 `modprobe rt2500pci` 

(замените при необходимости на rt2500pci например, т.е. rt2400pci, rt2500usb, rt61pci, rt73usb)

Для некоторых чипов необходимы прошивки (firmware). Смотри [rt2x00 статью wiki](/index.php/Using_the_new_rt2x00_beta_driver "Using the new rt2x00 beta driver").

#### rt3090

#### rt3290

#### rt3573

#### rt5572

#### mt7612u

### Realtek

#### rtl8192cu

#### rtl8723ae/rtl8723be

#### rtl88xxau

#### rtl8822bu

#### rtl8xxxu

### Atheros

#### ath5k

Планируется, что с течением времени ath_pci станет частью истории, и его заменит ath5k. Для использования этого открытого драйвера добавьте его загрузку в rc.conf:

```
MODULES=(ath5k ... ...)

```

Проверьте, что в секции MODULES отсутствуют параметры ath_hal и ath_pci.

#### ath9k

ath9k - это официальный драйвер компании Atheros для карт с новейшими 802.11n чипсетами (максимальная пропускная способность около 180 Мб/с). Чтобы просмотреть весь список поддерживаемого оборудования, проверьте [supported chipsets](http://wireless.kernel.org/en/users/Drivers/ath9k).

Доступные режимы: Station, AP и Adhoc.

ath9k включен в состав ядра, начиная с версии 2.6.27\. Для дискуссий по поддержке и разработке создан [mailing list](https://lists.ath9k.org/mailman/listinfo/ath9k-devel).

##### Power saving

### Intel

#### ipw2100 and ipw2200

Смотря какой чипсет у вас имеется, используйте следующее:

```
pacman -S ipw2100-fw

```

или:

```
pacman -S ipw2200-fw

```

Вам необходимо перезагрузиться, чтобы изменения были приняты.

#### iwlegacy

#### iwlwifi

##### Bluetooth coexistence

#### Disabling LED blink

### Broadcom

### Other drivers/devices

#### Tenda w322u

#### orinoco

Часть, которая идёт с пакетом ядра и уже должна быть установлена.

#### prism54

Скачайте файлы прошивки (firmware) для вашей карточки [с этого сайта](http://www.prism54.org/). Переименуйте файл прошивки в 'isl3890'. Если не существует, создайте директорию /lib/firmware и поместите файл 'isl3890' туда. Это должно быть сделано. ([forum source](https://bbs.archlinux.org/viewtopic.php?t=16569&start=0&postdays=0&postorder=asc&highlight=siocsifflags+such+file++directory))

#### ACX100/111

Установите пакеты 'tiacx' и 'tiacx-firmware' из репозитория core.

```
pacman -S tiacx tiacx-firmware

```

Драйвер должен сказать, какая прошивка (firmware) ему необходима; проверьте /var/log/messages.log или через команду dmesg. Переместите прошивку в '/lib/firmware'. Я делаю так:

```
ln -s /usr/share/tiacx/acx111_2.3.1.31/tiacx111c16 /lib/firmware

```

Hint: Если драйвер захламляет лог ядра, например потому, что запущен Kismet, вы должны добавить следующее в /etc/modprobe.d/modprobe.conf:

```
options acx debug=0

```

#### zd1211rw

[zd1211rw](http://zd1211.wiki.sourceforge.net/) драйвер для ZyDAS ZD1211 802.11b/g USB WLAN чипсетов и он включен в ядро, в настоящее время. Смотри список поддерживаемого оборудования [здесь](http://www.linuxwireless.org/en/users/Drivers/zd1211rw/devices). Только вам необходимо сначала установить файлы прошивки:

 `pacman -S zd1211-firmware` 

#### hostap_cs

### ndiswrapper

Ndiswrapper не настоящий драйвер, но с ним вы можете использовать неродные Linux драйвера для ваших беспроводных устройств. Это очень помогает во многих ситуациях. Для использования его у вас должны быть *.inf файл из windows-драйверов (*.sys файл также должен присутствовать в этой же директории). Для установки ndiswrapper вам необходимо проделать следующие шаги:

Установить ndiswrapper используя pacman:

 `pacman -S ndiswrapper ndiswrapper-utils` 

*Note:* Beyond kernel-ядру необходим пакет ndiswrapper-beyond вместо ndiswrapper!

*Note:* Если у вас на машине нет доступа в интернет, вы можете скачать эти пакеты заранее к себе на компьютер с одного из зеркал, таких как [http://www2.cddc.vt.edu/linux/distributions/archlinux/extra/os/i686/](http://www2.cddc.vt.edu/linux/distributions/archlinux/extra/os/i686/) . (Note: это устаревшее зеркало, лучше использовать [ftp://ftp.archlinux.org/core/os/i686/](ftp://ftp.archlinux.org/core/os/i686/) ) Вам необходим пакет ndiswrapper (или ndiswrapper-beyond как было сказано выше) и пакет ndiswrapper-utils. Также вы можете скачать последнее ядро kernel26 (или beyond), т.к. на CD не всегда последнее ядро.

Когда установка завершена, выполните следующие шаги для настройки ndiswrapper.

```
ndiswrapper -i filename.inf
ndiswrapper -l
ndiswrapper -m
depmod -a
```

Сейчас установка ndiswrapper полностью завершена; вам только необходимо отредактировать /etc/rc.conf для загрузки модуля при старте системы (ниже приведён мой простейший конфиг; у вас может немного отличаться):

 `MODULES=(ndiswrapper snd-intel8x0 !usbserial)` 

Важно убедиться, что ndiswrapper присутствует в этом списке, также добавить другие необходимые модули. Лучший способ проверить, что ndiswrapper загружен:

```
modprobe ndiswrapper
iwconfig
```

и wlan0 должен присутствовать. Посмотрите следующую страницу при обнаружении проблем: [Установка Ndiswrapper](http://ndiswrapper.sourceforge.net/joomla/index.php?/component/option,com_openwiki/Itemid,33/id,installation/).

### backports-patched

## Смотрите также

*   [The Linux Wireless project](http://wireless.kernel.org/) — документация по беспроводной (IEEE-802.11) подсистеме Linux
*   [Aircrack-ng guide on installing drivers](http://aircrack-ng.org/doku.php?id=install_drivers) — установка драйверов для беспроводных сетевых интерфейсов