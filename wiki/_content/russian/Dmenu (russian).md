Ссылки по теме

*   [Список приложений/Другие#Утилиты запуска приложений](/index.php/%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA_%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B9/%D0%94%D1%80%D1%83%D0%B3%D0%B8%D0%B5#Утилиты_запуска_приложений "Список приложений/Другие")

**Состояние перевода:** На этой странице представлен перевод статьи [dmenu](/index.php/Dmenu "Dmenu"). Дата последней синхронизации: 15 января 2020\. Вы можете [помочь](/index.php/ArchWiki_Translation_Team_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "ArchWiki Translation Team (Русский)") синхронизировать перевод, если в английской версии произошли [изменения](https://wiki.archlinux.org/index.php?title=Dmenu&diff=0&oldid=595197).

[dmenu](https://tools.suckless.org/dmenu) — быстрое и лёгкое динамическое меню для X. *dmenu* читает произвольный текст со стандартного ввода и создаёт меню с отдельным пунктом для каждой прочитанной строки. Затем пользователь может выбрать нужный пункт, используя клавиши со стрелками или вводя часть имени, после чего соответствующая строка будет напечатана в стандартный вывод. *dmenu_run* — обёртка, поставляемая с *dmenu* и позволяющая использовать его в качестве утилиты запуска приложений.

<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none">

## Contents

<label class="toctogglelabel" for="toctogglecheckbox"></label>

*   [1 Установка](#Установка)
*   [2 Настройка](#Настройка)
    *   [2.1 Отображение пользовательских пунктов меню](#Отображение_пользовательских_пунктов_меню)
    *   [2.2 Добавление пунктов меню вручную](#Добавление_пунктов_меню_вручную)
    *   [2.3 Шрифты](#Шрифты)
    *   [2.4 Поддержка псевдонимов оболочки](#Поддержка_псевдонимов_оболочки)
*   [3 Решение проблем](#Решение_проблем)
    *   [3.1 Локаль не поддерживается](#Локаль_не_поддерживается)
    *   [3.2 Отсутствующие пункты меню](#Отсутствующие_пункты_меню)
    *   [3.3 Переменные окружения](#Переменные_окружения)
    *   [3.4 Текущее окно теряет фокус](#Текущее_окно_теряет_фокус)
*   [4 Смотрите также](#Смотрите_также)

## Установка

[Установите](/index.php/%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D0%B5 "Установите") пакет [dmenu](https://www.archlinux.org/packages/?name=dmenu) или [dmenu-git](https://aur.archlinux.org/packages/dmenu-git/), если хотите использовать нестабильную версию.

Существуют различные исправленные варианты, расширяющие функциональность *dmenu*. Можете попробовать один из следующих пакетов из [AUR](/index.php/AUR_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "AUR (Русский)"):

*   [dmenu2](https://aur.archlinux.org/packages/dmenu2/): ответвление *dmenu* со множеством полезных исправлений и дополнительных возможностей, включая затемнение, задание уровня прозрачности и подчёркивание.

*dmenu* можно запустить следующим образом:

```
$ dmenu_run

```

## Настройка

Теперь необходимо назначить команду `dmenu_run` на сочетание клавиш. Это можно сделать с помощью настройки оконного менеджера, среды рабочего стола или же с помощью программы, подобной [xbindkeys](https://www.archlinux.org/packages/?name=xbindkeys). Смотрите статью [Дополнительные клавиши](/index.php/%D0%94%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5_%D0%BA%D0%BB%D0%B0%D0%B2%D0%B8%D1%88%D0%B8 "Дополнительные клавиши") для получения дополнительной информации.

### Отображение пользовательских пунктов меню

Пользовательские пункты должны быть разделены символом новой строки (*
*) и переданы на стандартный ввод *dmenu*, например:

```
$ echo -e "первое
второе
третье" | dmenu

```

### Добавление пунктов меню вручную

*dmenu* ищет исполняемые файлы в каталогах, определённых с помощью переменной окружения `$PATH`. О том, как изменить переменную `$PATH`, смотрите статью [Переменные окружения](/index.php/%D0%9F%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5_%D0%BE%D0%BA%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F "Переменные окружения").

### Шрифты

*dmenu* может отображать шрифты с помощью [логического описания X шрифта](https://en.wikipedia.org/wiki/XLFD "wikipedia:XLFD"), используя инструмент *xfontsel*, который предоставляется пакетом [xorg-xfontsel](https://www.archlinux.org/packages/?name=xorg-xfontsel). В этом примере *dmenu* будет запускаться с использованием [terminus-font](https://www.archlinux.org/packages/?name=terminus-font):

```
$ dmenu_run -fn "-xos4-terminus-medium-r-*-*-14-*"

```

Если используется *dmenu* с поддержкой XFT, синтаксис аналогичен:

```
$ dmenu_run -fn 'Droid Sans Mono-9'

```

### Поддержка псевдонимов оболочки

*dmenu* не поддерживает [псевдонимы оболочки](/index.php/Bash_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)#Псевдонимы "Bash (Русский)"). Чтобы *dmenu* распознал псевдонимы, [установите](/index.php/%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D0%B5 "Установите") пакет [dmenu-recent-aliases](https://aur.archlinux.org/packages/dmenu-recent-aliases/) из [AUR](/index.php/AUR_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "AUR (Русский)") и запустите `dmenu_run_aliases`. Ваши псевдонимы должны находиться в `~/.bash_aliases` или `~/.zsh_aliases`, чтобы *dmenu_run_aliases* мог их распознать.

## Решение проблем

### Локаль не поддерживается

Запуск *dmenu_run* приводит к следующему сообщению об ошибке:

 `$ dmenu_run` 
```
no locale support

```

Убедитесь, что переменная окружения `LANG` установлена правильно. Для получения дополнительной информации смотрите статью [Локали#Решение проблем](/index.php/%D0%9B%D0%BE%D0%BA%D0%B0%D0%BB%D0%B8#Решение_проблем "Локали").

### Отсутствующие пункты меню

Если *dmenu* не отображает определённые пункты, возможно, был повреждён кеш. Удалите кеш и перезапустите *dmenu*.

```
$ rm ~/.dmenu_cache
$ rm ~/.cache/dmenu_run

```

Обратите внимание, что, скорее всего, будет только один файл кеша в зависимости от того, установлена ли переменная `$XDG_CACHE_HOME`. Посмотрите содержимое `/usr/bin/dmenu_run` для получения дополнительной информации.

### Переменные окружения

Переменные окружения, необходимые приложениям, должны быть добавлены в `/etc/environment`.

### Текущее окно теряет фокус

[Ошибка](https://git.suckless.org/dmenu/commit/db6093f6ec1bb884f7540f2512935b5254750b30.html) в dmenu 4.9 приводит к тому, что при открытии *dmenu* окно теряет фокус и не восстанавливает его после закрытия *dmenu*. Также иногда только что запущенная программа не получает фокус. Это можно исправить, откатившись до dmenu 4.8\. Смотрите обсуждение [здесь](https://github.com/i3/i3/issues/3528).

## Смотрите также

*   [dmenu](https://tools.suckless.org/dmenu) — официальный сайт *dmenu*.
*   [Dmenu Hacking thread](https://bbs.archlinux.org/viewtopic.php?id=80145) — тема на форуме Arch Linux, посвящённая исследованию *dmenu*. Также доступна [коллекция скриптов](https://github.com/orschiro/dmenu-scripts-collection).