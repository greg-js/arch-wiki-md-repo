**Состояние перевода:** На этой странице представлен перевод статьи [Partitioning](/index.php/Partitioning "Partitioning"). Дата последней синхронизации: 11 января 2019\. Вы можете [помочь](/index.php/ArchWiki_Translation_Team_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "ArchWiki Translation Team (Русский)") синхронизировать перевод, если в английской версии произошли [изменения](https://wiki.archlinux.org/index.php?title=Partitioning&diff=0&oldid=562714).

Ссылки по теме

*   [Файловая система](/index.php/%D0%A4%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2%D0%B0%D1%8F_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0 "Файловая система")
*   [fdisk (Русский)](/index.php/Fdisk_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Fdisk (Русский)")
*   [gdisk](/index.php/Gdisk "Gdisk")
*   [GNU Parted (Русский)](/index.php/GNU_Parted_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "GNU Parted (Русский)")
*   [fstab (Русский)](/index.php/Fstab_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Fstab (Русский)")
*   [LVM (Русский)](/index.php/LVM_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "LVM (Русский)")
*   [Раздел подкачки](/index.php/%D0%A0%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB_%D0%BF%D0%BE%D0%B4%D0%BA%D0%B0%D1%87%D0%BA%D0%B8 "Раздел подкачки")
*   [Процесс загрузки Arch](/index.php/%D0%9F%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B8_Arch "Процесс загрузки Arch")
*   [UEFI (Русский)](/index.php/UEFI_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "UEFI (Русский)")

При [разметке](https://en.wikipedia.org/wiki/ru:%D0%A0%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB_%D0%B4%D0%B8%D1%81%D0%BA%D0%B0 "wikipedia:ru:Раздел диска") память жесткого диска разбивается на разделы, с которыми можно работать независимо. Их может быть несколько или только один. Количество зависит от вас, например, если вы хотите установить на диск несколько ОС, логически разделить данные или нужен [раздел подкачки](/index.php/%D0%A0%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB_%D0%BF%D0%BE%D0%B4%D0%BA%D0%B0%D1%87%D0%BA%D0%B8 "Раздел подкачки"), то необходимо иметь несколько разделов.

Информация о размещении разделов на жёстком диске хранится в [таблице разделов](#Таблица_разделов), такой как MBR или GPT.

Создать или изменить таблицу разделов можно с помощью одного из многих [инструментов разметки](#Инструменты_разметки), но они должны поддерживать выбранный формат таблицы разделов. Вам доступны, такие инструменты, как [fdisk](/index.php/Fdisk_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Fdisk (Русский)") и [parted](/index.php/GNU_Parted_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "GNU Parted (Русский)").

После создания раздел нужно отформатировать в необходимую вам [файловую систему](/index.php/%D0%A4%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2%D0%B0%D1%8F_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0 "Файловая система"), прежде чем записывать данные на него.

<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none">

## Contents

<label class="toctogglelabel" for="toctogglecheckbox"></label>

*   [1 Таблица разделов](#Таблица_разделов)
    *   [1.1 Главная загрузочная запись (MBR)](#Главная_загрузочная_запись_(MBR))
        *   [1.1.1 Главная загрузочная запись (MBR) (загрузочный код)](#Главная_загрузочная_запись_(MBR)_(загрузочный_код))
        *   [1.1.2 Главная загрузочная запись (MBR) (таблица разделов)](#Главная_загрузочная_запись_(MBR)_(таблица_разделов))
    *   [1.2 Таблица разделов GUID](#Таблица_разделов_GUID)
    *   [1.3 Выбор между GPT и MBR](#Выбор_между_GPT_и_MBR)
    *   [1.4 Безраздельный диск](#Безраздельный_диск)
        *   [1.4.1 Разметка Btrfs](#Разметка_Btrfs)
    *   [1.5 Резервное копирование](#Резервное_копирование)
    *   [1.6 Восстановление](#Восстановление)
*   [2 Схема разметки](#Схема_разметки)
    *   [2.1 Один корневой раздел](#Один_корневой_раздел)
    *   [2.2 Отдельные разделы](#Отдельные_разделы)
        *   [2.2.1 /](#/)
        *   [2.2.2 /boot](#/boot)
        *   [2.2.3 /home](#/home)
        *   [2.2.4 /var](#/var)
        *   [2.2.5 /data](#/data)
        *   [2.2.6 Swap](#Swap)
    *   [2.3 Примеры схем](#Примеры_схем)
        *   [2.3.1 Примеры схем UEFI/GPT](#Примеры_схем_UEFI/GPT)
        *   [2.3.2 Примеры схем BIOS/MBR](#Примеры_схем_BIOS/MBR)
        *   [2.3.3 Примеры схем BIOS/GPT](#Примеры_схем_BIOS/GPT)
*   [3 Инструменты разметки](#Инструменты_разметки)
    *   [3.1 fdisk](#fdisk)
    *   [3.2 GPT fdisk](#GPT_fdisk)
    *   [3.3 GNU Parted](#GNU_Parted)
*   [4 Выравнивание разделов](#Выравнивание_разделов)
*   [5 Советы и рекомендации](#Советы_и_рекомендации)
    *   [5.1 Преобразование MBR в GPT](#Преобразование_MBR_в_GPT)
    *   [5.2 Поддержка ядром GPT](#Поддержка_ядром_GPT)
*   [6 Смотрите также](#Смотрите_также)

## Таблица разделов

**Совет:** Чтобы вывести информацию из таблицы разделов (определенного устройства), выполните `parted */dev/sda* print` или `fdisk -l */dev/sda*`, где `*/dev/sda*` имя устройства.

Имеется два основных формата таблицы разделов: главная загрузочная запись (MBR) и таблица разделов GUID (GPT). Ниже описаны их особенности и как выбирать между ними. Третьей, менее распространенной альтернативой является использование безраздельного диска, который также обсуждается ниже.

### Главная загрузочная запись (MBR)

[Главная загрузочная запись](https://en.wikipedia.org/wiki/ru:%D0%93%D0%BB%D0%B0%D0%B2%D0%BD%D0%B0%D1%8F_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BE%D1%87%D0%BD%D0%B0%D1%8F_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D1%8C "wikipedia:ru:Главная загрузочная запись") (MBR) - это первые 512 байт запоминающего устройства. В них находится загрузчик операционной системы и таблица разделов устройства хранения. Главная загрузочная запись играет важную роль в [процессе загрузки Arch](/index.php/%D0%9F%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B8_Arch "Процесс загрузки Arch") в системах с [BIOS](https://en.wikipedia.org/wiki/ru:BIOS "wikipedia:ru:BIOS"). Для получения информации о структуре смотрите [Wikipedia:ru:Главная загрузочная запись#Структура MBR](https://en.wikipedia.org/wiki/ru:%D0%93%D0%BB%D0%B0%D0%B2%D0%BD%D0%B0%D1%8F_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BE%D1%87%D0%BD%D0%B0%D1%8F_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D1%8C#.D0.A1.D1.82.D1.80.D1.83.D0.BA.D1.82.D1.83.D1.80.D0.B0_MBR "wikipedia:ru:Главная загрузочная запись").

**Примечание:**

*   Главная загрузочная запись (MBR) находится не в разделе; она расположена в первом секторе устройства (физическое смещение 0) перед первым разделом.
*   Загрузочный сектор, находящийся на безраздельном устройстве или в отдельном разделе, вместо этого называется [volume boot record (VBR)](https://en.wikipedia.org/wiki/Volume_boot_record "wikipedia:Volume boot record").)

#### Главная загрузочная запись (MBR) (загрузочный код)

Первые 446 байт MBR - это **область загрузочного кода**. В системах с BIOS она обычно содержит первый этап загрузчика. Загрузочный код может быть восстановлен из резервной копии или удален, смотрите [using dd](/index.php/Dd#Backup_and_restore_MBR "Dd").

#### Главная загрузочная запись (MBR) (таблица разделов)

В таблице разделов MBR (она же таблица разделов DOS или MS-DOS) есть 3 типа разделов:

*   Первичный
*   Расширенный
    *   Логический

**Первичные** разделы могут быть загрузочными, но их может быть всего четыре на диске или в томе RAID. Если нужно более четырех, то один из них нужно заменить на **расширенный**, который содержит в себе множество **логических** разделов.

Расширенные разделы можно рассматривать как контейнеры для логических разделов. Жесткий диск может иметь только один такой раздел. Расширенный раздел считается первичным, поэтому, если на диске имеется расширенный раздел, еще возможны только три первичных (т.е. три первичных раздела и один расширенный). Количество логических разделов, находящихся в расширенном разделе, неограниченно. Для системы с несколькими ОС, одна из которых Windows, необходимо, чтобы Windows находилась в первичном разделе.

Обычная схема нумерации заключается в наименование первичных разделов от *sda1* до *sda3*, за которыми следует расширенный раздел *sda4*. Логические разделы, находящихся в расширенном разделе *sda4*, нумеруются как *sda5*, *sda6* и т.д.

### Таблица разделов GUID

[Таблица разделов GUID](https://en.wikipedia.org/wiki/ru:%D0%A2%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D0%B0_%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB%D0%BE%D0%B2_GUID "wikipedia:ru:Таблица разделов GUID") (GPT) - таблица разделов, которая является частью спецификации [UEFI](/index.php/UEFI_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "UEFI (Русский)"); в ней используются [глобально-уникальные идентификаторы](https://en.wikipedia.org/wiki/ru:UUID "wikipedia:ru:UUID") (GUID) или UUID в мире Linux для определения разделов и [их типов](https://en.wikipedia.org/wiki/ru:%D0%A2%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D0%B0_%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB%D0%BE%D0%B2_GUID#.D0.98.D0.B4.D0.B5.D0.BD.D1.82.D0.B8.D1.84.D0.B8.D0.BA.D0.B0.D1.82.D0.BE.D1.80.D1.8B_.28GUID.29_.D1.80.D0.B0.D0.B7.D0.BB.D0.B8.D1.87.D0.BD.D1.8B.D1.85_.D1.82.D0.B8.D0.BF.D0.BE.D0.B2_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2 "wikipedia:ru:Таблица разделов GUID"). Она разработана с учетом недостатков [главной загрузочной записи](#Главная_загрузочная_запись_(MBR)).

В начале таблицы разделов GUID на диске есть [наследственная главная загрузочная запись](https://en.wikipedia.org/wiki/%D0%A2%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D0%B0_%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB%D0%BE%D0%B2_GUID#.D0.9D.D0.B0.D1.81.D0.BB.D0.B5.D0.B4.D1.81.D1.82.D0.B2.D0.B5.D0.BD.D0.BD.D1.8B.D0.B9_MBR_.28LBA_0.29 "wikipedia:Таблица разделов GUID") (PMBR) для защиты от ПО, не поддерживающее GPT. Наследственная MBR, как и настоящая MBR, имеет [область загрузочного кода](#Главная_загрузочная_запись_(MBR)_(загрузочный_код)), которую можно использовать для загрузки на системах BIOS/GPT с загрузчиками, которые ее поддерживают.

### Выбор между GPT и MBR

Таблица разделов GUID (GPT) - альтернативный, современный способ разметки; он предназначен для замены старого MBR. У GPT есть несколько преимуществ по сравнению с MBR, которая имеет проблемы, произрастающие из времен MS-DOS. Благодаря недавним изменениям в инструментах форматирования одинаково легко получить хорошую надежность и производительность для GPT и MBR.

**Примечание:** Чтобы GRUB загружался с диска с разделом GPT в BIOS-системе, необходим [раздел загрузки BIOS](/index.php/%D0%A0%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B8_BIOS "Раздел загрузки BIOS").

Некоторые моменты, которые следует учитывать при выборе:

*   Для двойной загрузки с Windows (как 32-разрядной, так и 64-разрядной) с использованием Legacy BIOS требуется таблица MBR.
*   Для двойной загрузки с 64-разрядной Windows, которая запускается в режиме [UEFI](/index.php/UEFI_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "UEFI (Русский)") вместо BIOS, требуется таблица GPT.
*   Если вы устанавливаете на устаревшее оборудование, особенно на старые ноутбуки, подумайте о выборе MBR, потому что их BIOS может не поддерживать GPT.
*   Если вы разбиваете диск на 2 ТБ или больше, вам нужно использовать GPT.
*   Для загрузки в режиме [UEFI](/index.php/UEFI_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "UEFI (Русский)") лучше всегда использовать GPT, так как некоторые реализации UEFI не поддерживают загрузку с MBR.
*   Если ни один из вышеперечисленных пунктов вас не касается, вы можете выбирать свободно между GPT и MBR. Лучше выбрать GPT, поскольку он более современный.

Некоторые преимущества таблицы GPT над MBR:

*   Предоставляет уникальный идентификатор диска и уникальный [GUID раздела](/index.php/Persistent_block_device_naming#by-partuuid "Persistent block device naming") (`PARTUUID`) для каждого раздела - Хороший независимый от файловой системы способ обращения к разделам и дискам.
*   Предоставляет [имя раздела](/index.php/Persistent_block_device_naming#by-partlabel "Persistent block device naming") (`PARTLABEL`), не зависящее от файловой системы.
*   Произвольное количество разделов - зависит от места, выделенного для таблицы разделов. Нет необходимости в расширенных и логических разделах. По умолчанию таблица GPT содержит пространство для определения 128 разделов. Однако, если вы хотите определить больше, вы можете выделить больше пространства для таблицы разделов (в настоящее время только *gdisk* поддерживают эту функцию).
*   Использует 64-разрядный LBA для хранения номеров секторов - максимальный размер адресации диска 2 ЗБ. MBR ограничивается адресацией только 2 ТБ на диск.
*   Хранит резервное оглавление и таблицу разделов в конце диска, что помогает [восстановить](/index.php/Gdisk#Recover_GPT_header "Gdisk") их, если первичные повреждены.
*   Контрольные суммы CRC32 для обнаружения ошибок и повреждения таблицы заголовков и разделов.

В разделе [#Инструменты разметки](#Инструменты_разметки) содержится таблица, показывающая, какие инструменты доступны для создания и изменения таблиц GPT и MBR.

### Безраздельный диск

Безраздельный диск a.k.a. [superfloppy](https://docs.microsoft.com/en-us/windows-hardware/manufacture/desktop/windows-and-gpt-faq#what-is-a-superfloppy) относится к устройствам хранения, которые не имеют таблицы разделов. Вместо нее он содержит одну файловую систему, занимающую все запоминающее устройство. Загрузочный сектор, находящийся на безраздельном устройстве, называется [volume boot record (VBR)](https://en.wikipedia.org/wiki/Volume_boot_record "wikipedia:Volume boot record").

#### Разметка Btrfs

[Btrfs](/index.php/Btrfs_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Btrfs (Русский)") может занимать все устройство хранения данных и заменять таблицы разметки [MBR](#Главная_загрузочная_запись_(MBR)) или [GPT](#Таблица_разделов_GUID). Для получения дополнительной информации смотрите статью [Btrfs#Partitionless Btrfs disk](/index.php/Btrfs#Partitionless_Btrfs_disk "Btrfs").

### Резервное копирование

Для получения дополнительной информации смотрите [fdisk (Русский)#Резервное копирование и восстановление таблицы разделов](/index.php/Fdisk_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)#Резервное_копирование_и_восстановление_таблицы_разделов "Fdisk (Русский)") и [gdisk#Backup and restore partition table](/index.php/Gdisk#Backup_and_restore_partition_table "Gdisk").

### Восстановление

Поврежденную таблицу разделов MBR можно восстановить с помощью утилиты [gpart](https://www.archlinux.org/packages/?name=gpart). Для получения инструкций смотрите [gpart(8)](https://jlk.fjfi.cvut.cz/arch/manpages/man/gpart.8).

Из-за того, что оглавление и таблица разделов GPT записаны в начале и в конце диска их можно восстановить с помощью друг и друга. Для получения дополнительной информиции смотрите [gdisk#Recover GPT header](/index.php/Gdisk#Recover_GPT_header "Gdisk").

Другой вариант восстановления - использование утилиты [TestDisk](/index.php/File_recovery#Testdisk_and_PhotoRec "File recovery"), которая поддерживает восстановление поврежденных разделов на MBR и GPT.

## Схема разметки

Не существует строгих правил разметки жесткого диска, хотя можно следовать общим рекомендациям, приведенным ниже. Схема разметки диска определяется различными вопросами, такими как требуемая гибкость, скорость, безопасность, а также ограничения, налагаемые доступным дисковым пространством. Это, по сути, личное предпочтение. Если вы хотите сделать двойную загрузку Arch Linux и Windows, смотрите [Двойная загрузка: Windows и Arch](/index.php/%D0%94%D0%B2%D0%BE%D0%B9%D0%BD%D0%B0%D1%8F_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B0:_Windows_%D0%B8_Arch "Двойная загрузка: Windows и Arch").

**Примечание:**

*   Для систем с [UEFI](/index.php/UEFI_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "UEFI (Русский)") требуется [системный раздел EFI](/index.php/%D0%A1%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%BD%D1%8B%D0%B9_%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB_EFI "Системный раздел EFI").
*   Для систем с BIOS, размеченных с [GPT](#Таблица_разделов_GUID), требуется [раздел загрузки BIOS](/index.php/%D0%A0%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B8_BIOS "Раздел загрузки BIOS"), если в качестве загрузчика используется [GRUB](/index.php/GRUB_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "GRUB (Русский)").

**Tip:** При использовании [Btrfs](/index.php/Btrfs_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Btrfs (Русский)") подтома можно рассматривать как разделы. Для получения дополнительной информации смотрите раздел [Btrfs (Русский)#Монтирование подтомов](/index.php/Btrfs_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)#Монтирование_подтомов "Btrfs (Русский)").

### Один корневой раздел

Эта схема - самая простая и ее достаточно для большинства случаев использования. [Файл подкачки](/index.php/%D0%A4%D0%B0%D0%B9%D0%BB_%D0%BF%D0%BE%D0%B4%D0%BA%D0%B0%D1%87%D0%BA%D0%B8 "Файл подкачки") может быть создан и легко изменен по мере необходимости. Обычно имеет смысл начать с рассмотрения отдельного раздела `/`, а затем разделить другие на основе конкретных случаев использования, таких как RAID, шифрование, общий раздел мультимедиа и т.д.

### Отдельные разделы

Разделение пути в качестве раздела позволяет выбрать другую файловую систему и параметры монтирования. В некоторых случаях, таких как раздел мультимедиа, они могут использоваться совместно с другими операционными системами.

Ниже приведены некоторые примеры схем, которые можно использовать при разделении, а в следующих подразделах подробно описаны некоторые из каталогов, которые могут быть размещены отдельно, а затем с[монтирова](/index.php/%D0%9C%D0%BE%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0 "Монтирова")ны в точках монтирования в `/`. Для получения полного описания содержимого этих каталогов смотрите [file-hierarchy(7)](https://jlk.fjfi.cvut.cz/arch/manpages/man/file-hierarchy.7).

#### /

Корневой каталог - это вершина иерархии, точка, в которой монтируется основная файловая система, к которой присоединяются все другие файловые системы. Все файлы и каталоги отображаются в корневом каталоге `/`, даже если они хранятся на разных физических устройствах. Содержимое корневой файловой системы достаточно для загрузки, отката, исправления и/или восстановления системы. Поэтому некоторые каталоги из `/` не являются кандидатами для отдельных разделов.

Раздел `/` или корневой раздел необходим, и он наиболее важен. Остальные разделы могут быть заменены им.

**Важно:** Каталоги, необходимые для загрузки (кроме `/boot`) **должны** находится в том же разделе, что и `/`, или смонтированы в раннем пользовательском пространстве [initramfs](/index.php/Initramfs "Initramfs"). Основные каталоги: `/etc` и `/usr` [[1]](https://freedesktop.org/wiki/Software/systemd/separate-usr-is-broken).

`/` традиционно содержит каталог `/usr`, который может значительно увеличиться в зависимости от того, сколько ПО установлено. Для большинства пользователей с современными жесткими дисками должно быть достаточно 15-20 ГБ. Если вы планируете хранить файл подкачки здесь, вам может потребоваться больший размер раздела.

#### /boot

Каталог `/boot` содержит образы ядра и ramdisk, а также файлы конфигурации загрузчика и этапы загрузчика. В нем хранятся данные, которые используются до того, как ядро начнет выполнение программ пользовательского пространства. `/boot` не требуется для нормальной работы системы, а необходим только во время загрузки и обновления ядра (при восстановлении исходного ramdisk).

**Примечание:**

*   Отдельный раздел `/boot` нужен только, если ваш [boot loader](/index.php/Boot_loader "Boot loader") не может получить доступ к корневой файловой системе. Например, если в загрузчике отсутствует драйвер файловой системы или если `/` используется в [RAID](/index.php/RAID_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "RAID (Русский)"), [dm-crypt|зашифрован](/index.php/Dm-crypt_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Dm-crypt (Русский)") или объединен в [LVM](/index.php/LVM_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "LVM (Русский)").
*   Если при загрузке с UEFI [boot loader](/index.php/Boot_loader "Boot loader") не имеют драйвера для других файловых систем, рекомендуется монтировать [системный раздел EFI](/index.php/%D0%A1%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%BD%D1%8B%D0%B9_%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB_EFI "Системный раздел EFI") в `/boot`. Для получения дополнительной информации смотрите [Системный раздел EFI#Монтирование раздела](/index.php/%D0%A1%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%BD%D1%8B%D0%B9_%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB_EFI#Монтирование_раздела "Системный раздел EFI").

Рекомендуемый размер для `/boot` составляет 200 МБ, если не используется [системный раздел EFI](/index.php/%D0%A1%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%BD%D1%8B%D0%B9_%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB_EFI "Системный раздел EFI") в `/boot`, иначе рекомендуется 550 МБ.

#### /home

Каталог `/home` содержит пользовательские файлы конфигурации, кеш, данные приложений и медиафайлы.

Разделив `/home`, вы можете перегруппировать `/` отдельно, но обратите внимание, что вы все еще можете переустановить Arch с нетронутым `/home`, даже если он не является отдельным, Другие каталоги верхнего уровня нужно просто удалить, а затем запустить pacstrap.

Вы не должны делиться домашними каталогами между пользователями в разных дистрибутивах, потому что они используют несовместимые версии программного обеспечения и исправления. Вместо этого рассмотрите возможность разделения раздела мультимедиа или, по крайней мере, использования разных домашних каталогов в том же разделе `/home`. Размер этого раздела меняется.

#### /var

В каталоге `/var` xранятся переменные данные, такие как spool каталоги и файлы, данные администрирования и ведения журнала, кеш [pacman](/index.php/Pacman_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Pacman (Русский)"), дерево [ABS](/index.php/Arch_Build_System_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Arch Build System (Русский)") и т.д. Он используется, например, для кэширования и ведения журнала и, следовательно, часто читается или записывается. Сохранение его в отдельном разделе позволяет избежать нехватки дискового пространства из-за flunky logs и т.д.

Он существует, чтобы смонтировать `/usr` доступным только для чтения. Все, что исторически входило в `/usr`, который записывается во время работы системы (в отличие от установки и обслуживания программного обеспечения), должно находиться в `/var`.

**Примечание:** `/var` содержит много маленьких файлов. Выбор типа файловой системы должен учитывать этот факт, если используется отдельный раздел.

`/var` содержит, помимо прочего, дерево [ABS](/index.php/Arch_Build_System_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Arch Build System (Русский)") и кеш [pacman](/index.php/Pacman_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Pacman (Русский)"). Сохранение этих пакетов полезно в случае, если обновление пакета вызывает нестабильность, требуя [отката](/index.php/Downgrading_packages_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Downgrading packages (Русский)") на более старый, архивированный пакет. Кэш pacman, в частности, будет расширяться по мере расширения и обновления системы, но его можно безопасно очистить, если пространство станет проблемой. 8-12 ГБ на настольной системе должно быть достаточно для `/var`, в зависимости от того, сколько программного обеспечения будет установлено.

#### /data

Можно создать раздел "данных" для различных файлов, которые будут общими для всех пользователей. Использование раздела `/home` для этой цели также прекрасное решение. Размер этого раздела варьируется.

#### Swap

Раздел [swap](/index.php/Swap_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Swap (Русский)") предоставляет память, которую можно использовать в качестве виртуальной памяти. Следует также обратить внимание на [файл подкачки](/index.php/%D0%A4%D0%B0%D0%B9%D0%BB_%D0%BF%D0%BE%D0%B4%D0%BA%D0%B0%D1%87%D0%BA%D0%B8 "Файл подкачки"), так как он не имеет никаких потерь производительности по сравнению с разделом, но его размер легко изменить по мере необходимости. Один раздел подкачки можно *потенциально* использовать между несколькими ОС, но не при использовании спящего режима.

Исторически сложилось так, что размер раздела подкачки должен быть в два раза больше ОЗУ. Но это правило устарело, поскольку у современных компьютеров оперативная память стала намного больше. Например, на средних настольных компьютерах с оперативной памятью до 512 МБ swap'а 2x достаточно; если объем оперативной памяти более 1024 МБ, раздел подкачки можно уменьшить.

Для использования гибернации (оно же спящий режим) рекомендуется создать раздел подкачки равный размеру ОЗУ. Хотя ядро будет пытаться сжать образ сохраненного состояния, чтобы он соответствовал размеру раздела подкачки. Однако нет никакой гарантии, что это удастся, если размер swap'а будет значительно меньше, чем размер оперативной памяти. Для получения дополнительной информации смотрите [Управление питанием/Ждущий и спящий режимы#Гибернация](/index.php/%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D0%B8%D1%82%D0%B0%D0%BD%D0%B8%D0%B5%D0%BC/%D0%96%D0%B4%D1%83%D1%89%D0%B8%D0%B9_%D0%B8_%D1%81%D0%BF%D1%8F%D1%89%D0%B8%D0%B9_%D1%80%D0%B5%D0%B6%D0%B8%D0%BC%D1%8B#Гибернация "Управление питанием/Ждущий и спящий режимы").

### Примеры схем

**Примечание:** Загрузка UEFI не включает никаких флагов "загрузки", загрузка зависит только от загрузочных записей в NVRAM. [Parted](/index.php/Parted_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Parted (Русский)") и его графические оболочки используют флаг "загрузки" в GPT, чтобы указать, что раздел является системным разделом EFI.

#### Примеры схем UEFI/GPT

| Точка монтирования | Раздел | [Тип раздела (GUID)](https://en.wikipedia.org/wiki/ru:%D0%A2%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D0%B0_%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB%D0%BE%D0%B2_GUID#.D0.98.D0.B4.D0.B5.D0.BD.D1.82.D0.B8.D1.84.D0.B8.D0.BA.D0.B0.D1.82.D0.BE.D1.80.D1.8B_.28GUID.29_.D1.80.D0.B0.D0.B7.D0.BB.D0.B8.D1.87.D0.BD.D1.8B.D1.85_.D1.82.D0.B8.D0.BF.D0.BE.D0.B2_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2 "wikipedia:ru:Таблица разделов GUID") | [Атрибуты раздела](https://en.wikipedia.org/wiki/ru:%D0%A2%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D0%B0_%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB%D0%BE%D0%B2_GUID#.D0.97.D0.B0.D0.BF.D0.B8.D1.81.D0.B8_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85_.D0.BE_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.B0.D1.85_.28LBA_2-33.29.29 "wikipedia:ru:Таблица разделов GUID") | Рекомендуемый размер |
| `/boot` или `/efi` | `/dev/sda1` | `C12A7328-F81F-11D2-BA4B-00A0C93EC93B`:[Системный раздел EFI](/index.php/%D0%A1%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%BD%D1%8B%D0%B9_%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB_EFI "Системный раздел EFI") | 550 МБ |
| `/` | `/dev/sda2` | `4F68BCE3-E8CD-4DB1-96E7-FBCAF984B709`: Linux x86-64 root (/) | 23 - 32 ГБ |
| `[SWAP]` | `/dev/sda3` | `0657FD6D-A4AB-43C4-84E5-0933C84B4F4F`: Linux [swap](/index.php/Swap_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Swap (Русский)") | Более 512 МБ |
| `/home` | `/dev/sda4` | `933AC7E1-2EB4-4F13-B844-0E14E2AEF915`: Linux /home | Остаток |

#### Примеры схем BIOS/MBR

| Точка монтирования | Раздел | [Тип раздела ID](https://en.wikipedia.org/wiki/Partition_type "wikipedia:Partition type") | [Флаг загрузки](https://en.wikipedia.org/wiki/Boot_flag "wikipedia:Boot flag") | Рекомендуемый размер |
| `/` | `/dev/sda1` | `83`: Linux | Да | 23 - 32 ГБ |
| `[SWAP]` | `/dev/sda2` | `82`: Linux [swap](/index.php/Swap_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Swap (Русский)") | Нет | Более 512 МБ |
| `/home` | `/dev/sda3` | `83`: Linux | Нет | Остаток |

#### Примеры схем BIOS/GPT

| Точка монтирования | Раздел | [Тип раздела (GUID)](https://en.wikipedia.org/wiki/ru:%D0%A2%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D0%B0_%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB%D0%BE%D0%B2_GUID#.D0.98.D0.B4.D0.B5.D0.BD.D1.82.D0.B8.D1.84.D0.B8.D0.BA.D0.B0.D1.82.D0.BE.D1.80.D1.8B_.28GUID.29_.D1.80.D0.B0.D0.B7.D0.BB.D0.B8.D1.87.D0.BD.D1.8B.D1.85_.D1.82.D0.B8.D0.BF.D0.BE.D0.B2_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2 "wikipedia:ru:Таблица разделов GUID") | [Атрибуты раздела](https://en.wikipedia.org/wiki/ru:%D0%A2%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D0%B0_%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB%D0%BE%D0%B2_GUID#.D0.97.D0.B0.D0.BF.D0.B8.D1.81.D0.B8_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85_.D0.BE_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.B0.D1.85_.28LBA_2-33.29.29 "wikipedia:ru:Таблица разделов GUID") | Рекомендуемый размер |
| Нет | `/dev/sda1` | `21686148-6449-6E6F-744E-656564454649`: [раздел загрузки BIOS](/index.php/%D0%A0%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B8_BIOS "Раздел загрузки BIOS") | 1 ГБ |
| `/` | `/dev/sda2` | `4F68BCE3-E8CD-4DB1-96E7-FBCAF984B709`: Linux x86-64 root (/) | `2`: Legacy BIOS bootable | 23 - 32 ГБ |
| `[SWAP]` | `/dev/sda3` | `0657FD6D-A4AB-43C4-84E5-0933C84B4F4F`: Linux [swap](/index.php/Swap_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Swap (Русский)") | Более 512 МБ |
| `/home` | `/dev/sda4` | `933AC7E1-2EB4-4F13-B844-0E14E2AEF915`: Linux /home | Остаток |

1.  Раздел загрузки BIOS требуется только при использовании [GRUB](/index.php/GRUB_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "GRUB (Русский)") для загрузки BIOS с диска GPT. Раздел не имеет ничего общего с `/boot`, и его нельзя форматировать в файловую систему или монтировать.

## Инструменты разметки

Следующие программы используются для создания и/или управления таблицами разделов и разделами устройств. Смотрите ссылки по теме для получения инструкций как их использовать.

Эта таблица поможет вам выбрать утилиту для ваших нужд:

 MBR | GPT |
| Интерактивные (диалоговые) | fdisk
parted | fdisk
gdisk
parted |
| Псевдо-графические | cfdisk | cfdisk
cgdisk |
| Неинтерактивные | sfdisk
parted | sfdisk
sgdisk
parted |
| Графические | GParted
gnome-disk-utility
partitionmanager | GParted
gnome-disk-utility
partitionmanager |

**Важно:** Для разбиения устройств хранения используйте инструменты, совместимые с выбранным форматом таблицы разделов. Несовместимые инструменты могут привести к уничтожению таблицы вместе с существующими разделами и данными.

### fdisk

*fdisk* и связанные с ней утилиты описаны в статье [fdisk](/index.php/Fdisk_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Fdisk (Русский)").

*   [fdisk](/index.php/Fdisk_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Fdisk (Русский)") ([util-linux](https://www.archlinux.org/packages/?name=util-linux))
    *   [fdisk(8)](https://jlk.fjfi.cvut.cz/arch/manpages/man/fdisk.8) – Утилита с интерактивным интерфейсов для создания и обработки таблиц разделов.
    *   [cfdisk(8)](https://jlk.fjfi.cvut.cz/arch/manpages/man/cfdisk.8) – Вариант fdisk на основе библиотеке curses.
    *   [sfdisk(8)](https://jlk.fjfi.cvut.cz/arch/manpages/man/sfdisk.8) – Скриптовый вариант fdisk.

### GPT fdisk

*gdisk* и связанные с ней утилиты описаны в статье [gdisk](/index.php/Gdisk "Gdisk").

*   [GPT fdisk](/index.php/GPT_fdisk "GPT fdisk") ([gptfdisk](https://www.archlinux.org/packages/?name=gptfdisk))
    *   [gdisk(8)](https://jlk.fjfi.cvut.cz/arch/manpages/man/gdisk.8) – Утилита для управления [таблицей разделов GUID (GPT) с интерактивным интерфейсом](#Таблица_разделов_GUID).
    *   [cgdisk(8)](https://jlk.fjfi.cvut.cz/arch/manpages/man/cgdisk.8) – Вариант gdisk на основе библиотеке curses.
    *   [sgdisk(8)](https://jlk.fjfi.cvut.cz/arch/manpages/man/sgdisk.8) – Скриптовый вариант gdisk.

### GNU Parted

Эта группа инструментов описана в статье [GNU Parted](/index.php/GNU_Parted_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "GNU Parted (Русский)").

*   **[GNU Parted](/index.php/GNU_Parted "GNU Parted")** — Консольный инструмент разметки.

	[https://www.gnu.org/software/parted/parted.html](https://www.gnu.org/software/parted/parted.html) || [parted](https://www.archlinux.org/packages/?name=parted)

*   **GNOME Disks** — Утилита управления дисками GNOME.

	[https://wiki.gnome.org/Apps/Disks](https://wiki.gnome.org/Apps/Disks) || [gnome-disk-utility](https://www.archlinux.org/packages/?name=gnome-disk-utility)

*   **[GParted](/index.php/GParted "GParted")** — Редактор разделов, написанный с использованием библиотеки GTK+, с графическим управлением разделами диска.

	[https://gparted.sourceforge.io/](https://gparted.sourceforge.io/) || [gparted](https://www.archlinux.org/packages/?name=gparted)

*   **KDE Partition Manager** — Утилита KDE для управления дисковыми устройствами, разделами и файловыми системами.

	[https://www.kde.org/applications/system/kdepartitionmanager/](https://www.kde.org/applications/system/kdepartitionmanager/) || [partitionmanager](https://www.archlinux.org/packages/?name=partitionmanager)

## Выравнивание разделов

[fdisk](/index.php/Fdisk_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Fdisk (Русский)"), [gdisk](/index.php/Gdisk "Gdisk") и [parted](/index.php/GNU_Parted_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)#Выравнивание "GNU Parted (Русский)") автоматически обрабатывают выравнивание размера разделов. Смотрите [GNU Parted (Русский)#Проверка выравнивания](/index.php/GNU_Parted_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)#Проверка_выравнивания "GNU Parted (Русский)"), если вы хотите проверить выравнивание после разметки.

Для определенных дисков [расширенный формат](/index.php/%D0%A0%D0%B0%D1%81%D1%88%D0%B8%D1%80%D0%B5%D0%BD%D0%BD%D1%8B%D0%B9_%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%82 "Расширенный формат") может обеспечить более эффективное выравнивание.

## Советы и рекомендации

#### Преобразование MBR в GPT

Для получения дополнительной информации смотрите [gdisk#Convert between MBR and GPT](/index.php/Gdisk#Convert_between_MBR_and_GPT "Gdisk").

#### Поддержка ядром GPT

Параметр `CONFIG_EFI_PARTITION` в конфигурации ядра включает поддержку GPT в ядре (несмотря на название EFI PARTITION). Он должен быть встроен в ядро, а не скомпилирован как загружаемый модуль. Этот параметр нужен, даже если диски GPT используются только для хранения данных, а не для загрузки. Он включен по умолчанию во всех [официально поддерживаемыех ядрах](/index.php/Kernels#Officially_supported_kernels "Kernels") Arch. В случае специализированного ядра включите этот параметр, выполнив `CONFIG_EFI_PARTITION=y`.

## Смотрите также

*   [Wikipedia:ru:Раздел диска](https://en.wikipedia.org/wiki/ru:%D0%A0%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB_%D0%B4%D0%B8%D1%81%D0%BA%D0%B0 "wikipedia:ru:Раздел диска")
*   [Wikipedia:ru:Двоичные приставки](https://en.wikipedia.org/wiki/ru:%D0%94%D0%B2%D0%BE%D0%B8%D1%87%D0%BD%D1%8B%D0%B5_%D0%BF%D1%80%D0%B8%D1%81%D1%82%D0%B0%D0%B2%D0%BA%D0%B8 "wikipedia:ru:Двоичные приставки")
*   [Понимание терминологии дисковой подсистемы (англ)](http://thestarman.pcministry.com/asm/mbr/DiskTerms.htm)
*   [Что такое MBR (англ)](https://kb.iu.edu/d/aijw)
*   Страница Рода Смита ["Что такое GPT?" (англ)](http://www.rodsbooks.com/gdisk/whatsgpt.html) и [загрузка ОС из GPT (англ)](http://rodsbooks.com/gdisk/booting.html)
*   [Используйте большие диски на максимум с GPT и Linux - IBM Developer Works (англ)](https://www.ibm.com/developerworks/linux/library/l-gpt/index.html?ca=dgr-lnxw07GPT-Storagedth-lx&S_TACT=105AGY83&S_CMP=grlnxw07)
*   [Windows от Microsoft и GPT FAQ (англ)](https://docs.microsoft.com/en-us/windows-hardware/manufacture/desktop/windows-and-gpt-faq)
*   [Выравнивание разделов (англ)](https://www.thomas-krenn.com/en/wiki/Partition_Alignment) (с примерами)