Ссылки по теме

*   [CD прожиг](/index.php/Optical_disc_drive_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)#Burning "Optical disc drive (Русский)")

*   [Archiso (Русский)](/index.php/Archiso_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Archiso (Русский)")
*   [Multiboot USB drive](/index.php/Multiboot_USB_drive "Multiboot USB drive")

## Contents

*   [1 Для GNU/Linux](#Для_GNU/Linux)
    *   [1.1 UNetBootin](#UNetBootin)
    *   [1.2 Gujin](#Gujin)
*   [2 Устанока новым способом в Mac OS X](#Устанока_новым_способом_в_Mac_OS_X)
*   [3 Установка новым способом в Windows](#Установка_новым_способом_в_Windows)
    *   [3.1 Использование flashnul](#Использование_flashnul)
    *   [3.2 Использование Cygwin](#Использование_Cygwin)
    *   [3.3 win32 disk imager](#win32_disk_imager)
    *   [3.4 UltraISO](#UltraISO)
    *   [3.5 UNetBootin](#UNetBootin_2)
*   [4 Старый метод установки ISO-образа](#Старый_метод_установки_ISO-образа)
    *   [4.1 После загрузки с USB-диска](#После_загрузки_с_USB-диска)
    *   [4.2 Заметки и решение частых проблем:](#Заметки_и_решение_частых_проблем:)

## Для GNU/Linux

Начиная с релиза 2010.05, все опубликованные ISO-образы могут быть напрямую записаны на USB-накопитель. Скачать их можно [на ближайшем зеркале](https://archlinux.org/download/). Для установки подключите USB накопитель, отмонтируйте его, если он смонтировался автоматически, и выполните команду:

```
$ dd if=image.iso of=/dev/sd[x]

```

Здесь *image.iso* это путь к загруженному образу и */dev/sd[x]* Ваше USB устройство. ***Используйте именно /dev/sdx, а не /dev/sdx1***

**Важно:** Это уничтожит все данные на вашем USB-диске

### UNetBootin

Другой путь для создания загрузочного USB диска, это использование [UNetBootin](http://unetbootin.sourceforge.net/). Это приложение создаст на основе имеющегося у вас образа диска загрузочный USB-диск. Если у вас нет образа диска, можно выбрать дистрибутив из списка в приложении и будет загружен специальный мини-образ. (однако рекомендуется использовать версию, скачанную с официального сайта, так как она не будет просроченной)

После того как Unetbootin закончит свою работу, вам необходимо отредактировать syslinux.cfg, находящийся в корне вашего USB-накопителя (сделать это нужно до перезагрузки). Исправте "archisolabel=" дабы он отражал метку того USB-накопителя, который вы использовали, т.е.:

```
append initrd=/ubninit archisolabel=<label> tmpfs_size=75% locale=en_US.UTF-8

```

### Gujin

Третий метод заключается в загрузке нескольких LiveCD образов при помощи одиночного USB-накопителя. Вам необходимо создать два раздела, на первый вы копируете загрузочный образ Gujin, а на второй - ISO-образ ArchLinux'а.

## Устанока новым способом в Mac OS X

Для использования dd на вашем USB-диске в Mac нужно подготовить диск. Подключите ваш USB-диск к компьютеру, после того как он автоматически примонтируется, выполните:

```
diskutil list

```

Далее в Terminal.app. найдите ваш USB-диск в списке устройств. В нашем случае - это /dev/disk1\. Для продолжения его необходимо отмонтировать. Для этого выполните:

```
diskutil unmountDisk /dev/disk1

```

Далее следуйте по инструкции для GNU/Linux.

**Возможно имеется неточность или ошибка, так как нет возможности проверить из-за отсутствия у меня Mac OS [прим. переводчика]**

## Установка новым способом в Windows

Для записи образа на USB под Windows вам понадобится [flashnul](http://shounen.ru/soft/flashnul/) ([Английская версия страницы](http://translate.google.com/translate?u=http%3A%2F%2Fshounen.ru%2Fsoft%2Fflashnul%2F&hl=en&ie=UTF8&sl=ru&tl=en)) или [Cygwin](http://www.cygwin.com/).

### Использование flashnul

Запустите flashnul в командной строке с параметром -p, и найдите свой USB диск в появившемся списке. Пример вывода команды :

```
C:\>flashnul -p

Avaible [sic] physical drives:
0       size = 200048565760 (186 Gb)
1       size = 400088457216 (372 Gb)
2       size = 400088457216 (372 Gb)
3       size = 4060086272 (3872 Mb)

```

Наш диск имеет объём 4Гб и находится под номером 3.

Далее запишем имеющийся образ на диск при помощи вызова команды:

```
C:\>flashnul 3 -L path/to/arch/usb.iso

```

После параметра -L указыватеся путь к образу.

Если появится сообщение "Доступ запрещён" ("Acsess delined") попробуйте отсоединить и заново подсоединить устройство или перезагрузить ОС. **Заметка:** *Я использовал следующую команду "C:\flashnul\flashnul.exe **H:** -L c:\archlinux-2008.06-core-i686.img", чтобы все заработало. Я продолжал получать ошибку "Доступ запрещен", если я просто указывал номер. -gejr*

Если вы используете Vista или Win7, то необходимо открыть командную строку с правами администратора, иначе flashnul не сможет получит доступ к USB-диску на запись.

### Использование Cygwin

Скомпилируйте и установите в cygwin пакет dd. Если у вас не установлен Cygwin, вы можете просто скачать пакет dd для Windows с сайта [http://www.chrysocome.net/dd](http://www.chrysocome.net/dd).

Расположите образ в домашней дирректории, у меня это выглядит так:

```
C:\cygwin\home\John\

```

Запустите cygwin с правами администратора (необходимо, чтобы cygwin имел доступ к оборудованию). Что бы записать образ на USB-диск выполните команду:

```
dd if=image.iso of=\\.\[x]:

```

здесь image.iso это путь с образу в домашней дирректории cygwin и \\.\[x]: это ваш USB-диск, x - это буква устройства в Windows, у меня это "\\.\d:".

**Внимание:** Это действие безвозвратно удалит все данные на USB носителе, поэтому перед записью убедитесь, что на нем не содержится важных данных.

### win32 disk imager

Загрузите win32 disk imager с [http://sourceforge.net/projects/win32diskimager/](http://sourceforge.net/projects/win32diskimager/) (проект на [http://launchpad.net/win32-image-writer](http://launchpad.net/win32-image-writer) временно заморожен разрабботчиком). Запустите программу. Выберите .iso и USB-диск. Нажмите на кнопку записи. По окончании записи, можете перезагружаться и устанавливать Arch Linux.

### UltraISO

Вы можете воспользоваться программой UltraISO для записи образа ArchLinux на ваш USB-накопитель. Просто откройте образ диска, выберите в меню "Записать образ на диск" и (желательно перед этим отформатировать USB-накопитель) начинайте запись. По окончании воспользутесь заметкой из "1.1 Unetbootin".

### UNetBootin

Скачайте для Windows UNetBootin с [UNetBootin](http://unetbootin.sourceforge.net/). Это приложение одинаково выглядит в Linux и Windows, способ записи образа аналогичен.

## Старый метод установки ISO-образа

*   Подготовка USB-диска:

Образ arch-ftp.img имеет размер 150 MB, для него вам понадобится USB-диск объемом более 256 MB. Образ arch-core.img занимает ~300 MB для него понадобится диск на 512 MB.

1\. Создание разделов: Создайте раздел для FAT16 и сделайте его загрузочным. Его имя должно быть /dev/sd[x]1.

```
cfdisk /dev/sd[x]

```

2\. Создайте FAT16 файловую систему (понадобится dosfstools)

```
mkdosfs /dev/sd[x]1

```

3\. Загрузить ISO образ диска с www.archlinux.org

4\. Примонтируйте ISO образ:

```
mkdir -p /mnt/archcd
mount -o loop /Path/to/iso /mnt/archcd

```

5\. И USB-диск

```
mkdir -p /mnt/usb/
mount /dev/sd[x]1 /mnt/usb/

```

6\. Скопируйте всё содежщимое .ISO на USB-диск:

```
cp -ra /mnt/archcd/* /mnt/usb/

```

7\. Скопируйте загрузочные данные

```
cd /mnt/usb/isolinux/
cp vmlinuz /mnt/usb/
cp initrd.img /mnt/usb/
cp boot.* /mnt/usb/
cp isolinux.cfg /mnt/usb/syslinux.cfg

```

8\. Установите MBR и syslinux

```
lilo -M /dev/sd[x] mbr
syslinux -s /dev/sd[x]1

```

### После загрузки с USB-диска

Войдите под пользователем root и запустите установщик командой "/arch/setup".

Установщик примонтирует всё самостоятельно. Если же произойдёт ошибка, вам придётся вручную примонтировать содержимое USB-диска в /src. сделать это можно при помощи команды:

```
mount /dev/sd[x] /src

```

### Заметки и решение частых проблем:

 По-настоящему использовать lilo не так важно, так как syslinux проделывает работы по загрузке ("floppy" loading stuff). Но если у вас возникнет ошибка наподобии "Can't load operating system", то вам придется использовать команды lilo.

 Если у вас во время загрузки возникает ошибка "Cluster sizes larger than 16K not supported", то это значит, что вам необходимо воспользоваться более новой версией syslinux'а.

 Неиспользованное место на USB-накопителе может быть использовано для хранения других файлов. Воспользутесь утилитой наподобии Gparted и создайте раздел на неиспользованном пространстве.