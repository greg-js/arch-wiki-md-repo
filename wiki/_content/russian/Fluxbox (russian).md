Fluxbox - это еще один оконный менеджер для X-ов. Он основан на кодовой базе Blackbox 0.61.1\. Fluxbox выглядит как blackbox и управляет стилями, цветами, расположением окон и прочими подобными вещами аналогично blackbox (100% совместимость тем/стилей).

## Contents

*   [1 Установка Fluxbox](#.D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_Fluxbox)
*   [2 Полное руководство](#.D0.9F.D0.BE.D0.BB.D0.BD.D0.BE.D0.B5_.D1.80.D1.83.D0.BA.D0.BE.D0.B2.D0.BE.D0.B4.D1.81.D1.82.D0.B2.D0.BE)
*   [3 Запуск Fluxbox](#.D0.97.D0.B0.D0.BF.D1.83.D1.81.D0.BA_Fluxbox)
    *   [3.1 Способ № 1: Логин менеджеры GDM/LightDM](#.D0.A1.D0.BF.D0.BE.D1.81.D0.BE.D0.B1_.E2.84.96_1:_.D0.9B.D0.BE.D0.B3.D0.B8.D0.BD_.D0.BC.D0.B5.D0.BD.D0.B5.D0.B4.D0.B6.D0.B5.D1.80.D1.8B_GDM.2FLightDM)
    *   [3.2 Способ № 2: ~/.xinitrc](#.D0.A1.D0.BF.D0.BE.D1.81.D0.BE.D0.B1_.E2.84.96_2:_.7E.2F.xinitrc)
*   [4 Настройка](#.D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0)
    *   [4.1 Меню](#.D0.9C.D0.B5.D0.BD.D1.8E)
        *   [4.1.1 Встроенный метод](#.D0.92.D1.81.D1.82.D1.80.D0.BE.D0.B5.D0.BD.D0.BD.D1.8B.D0.B9_.D0.BC.D0.B5.D1.82.D0.BE.D0.B4)
        *   [4.1.2 MenuMaker](#MenuMaker)
        *   [4.1.3 Arch Linux xdg menu](#Arch_Linux_xdg_menu)
        *   [4.1.4 Создание меню вручную с помощью fluxconf](#.D0.A1.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.B8.D0.B5_.D0.BC.D0.B5.D0.BD.D1.8E_.D0.B2.D1.80.D1.83.D1.87.D0.BD.D1.83.D1.8E_.D1.81_.D0.BF.D0.BE.D0.BC.D0.BE.D1.89.D1.8C.D1.8E_fluxconf)
        *   [4.1.5 Создание/Редактирование файла меню вручную](#.D0.A1.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.B8.D0.B5.2F.D0.A0.D0.B5.D0.B4.D0.B0.D0.BA.D1.82.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D1.84.D0.B0.D0.B9.D0.BB.D0.B0_.D0.BC.D0.B5.D0.BD.D1.8E_.D0.B2.D1.80.D1.83.D1.87.D0.BD.D1.83.D1.8E)
    *   [4.2 Init](#Init)
    *   [4.3 Горячие клавиши](#.D0.93.D0.BE.D1.80.D1.8F.D1.87.D0.B8.D0.B5_.D0.BA.D0.BB.D0.B0.D0.B2.D0.B8.D1.88.D0.B8)
    *   [4.4 Рабочие столы](#.D0.A0.D0.B0.D0.B1.D0.BE.D1.87.D0.B8.D0.B5_.D1.81.D1.82.D0.BE.D0.BB.D1.8B)
    *   [4.5 Вкладки и Группировка](#.D0.92.D0.BA.D0.BB.D0.B0.D0.B4.D0.BA.D0.B8_.D0.B8_.D0.93.D1.80.D1.83.D0.BF.D0.BF.D0.B8.D1.80.D0.BE.D0.B2.D0.BA.D0.B0)
    *   [4.6 Фон рабочего стола](#.D0.A4.D0.BE.D0.BD_.D1.80.D0.B0.D0.B1.D0.BE.D1.87.D0.B5.D0.B3.D0.BE_.D1.81.D1.82.D0.BE.D0.BB.D0.B0)
        *   [4.6.1 Тем, кто любит часто менять фоновое изображение](#.D0.A2.D0.B5.D0.BC.2C_.D0.BA.D1.82.D0.BE_.D0.BB.D1.8E.D0.B1.D0.B8.D1.82_.D1.87.D0.B0.D1.81.D1.82.D0.BE_.D0.BC.D0.B5.D0.BD.D1.8F.D1.82.D1.8C_.D1.84.D0.BE.D0.BD.D0.BE.D0.B2.D0.BE.D0.B5_.D0.B8.D0.B7.D0.BE.D0.B1.D1.80.D0.B0.D0.B6.D0.B5.D0.BD.D0.B8.D0.B5)
        *   [4.6.2 Feh](#Feh)
    *   [4.7 Темы оформления](#.D0.A2.D0.B5.D0.BC.D1.8B_.D0.BE.D1.84.D0.BE.D1.80.D0.BC.D0.BB.D0.B5.D0.BD.D0.B8.D1.8F)
    *   [4.8 Автозапуск программ](#.D0.90.D0.B2.D1.82.D0.BE.D0.B7.D0.B0.D0.BF.D1.83.D1.81.D0.BA_.D0.BF.D1.80.D0.BE.D0.B3.D1.80.D0.B0.D0.BC.D0.BC)
        *   [4.8.1 Настройка клавиатуры](#.D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D0.BA.D0.BB.D0.B0.D0.B2.D0.B8.D0.B0.D1.82.D1.83.D1.80.D1.8B)
        *   [4.8.2 Отключение энергосбережения](#.D0.9E.D1.82.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D1.8D.D0.BD.D0.B5.D1.80.D0.B3.D0.BE.D1.81.D0.B1.D0.B5.D1.80.D0.B5.D0.B6.D0.B5.D0.BD.D0.B8.D1.8F)
    *   [4.9 Поддержка русского языка](#.D0.9F.D0.BE.D0.B4.D0.B4.D0.B5.D1.80.D0.B6.D0.BA.D0.B0_.D1.80.D1.83.D1.81.D1.81.D0.BA.D0.BE.D0.B3.D0.BE_.D1.8F.D0.B7.D1.8B.D0.BA.D0.B0)
*   [5 См. также](#.D0.A1.D0.BC._.D1.82.D0.B0.D0.BA.D0.B6.D0.B5)

## Установка Fluxbox

Для установки [fluxbox](https://www.archlinux.org/packages/?name=fluxbox) и [fluxconf](https://www.archlinux.org/packages/?name=fluxconf) (графический конфигуратор) выполните:

```
# pacman -S fluxbox fluxconf

```

## Полное руководство

Спасибо narada - автору этого руководства. Найти его можно здесь: [[1]](https://bbs.archlinux.org/viewtopic.php?id=77729)

## Запуск Fluxbox

### Способ № 1: Логин менеджеры GDM/LightDM

Если у вас установлен экранный менеджер [GDM](/index.php/GDM "GDM") или [LightDM (Русский)](/index.php/LightDM_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "LightDM (Русский)"), то fluxbox будет автоматически добавлен в его меню. Далее, для запуска fluxbox, будет достаточно просто выбрать соответствующий пункт в меню. Инструкции по настройке менеджеров можно найти [здесь](/index.php?title=%D0%94%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%BD%D0%BE%D0%B3%D0%BE_%D0%BC%D0%B5%D0%BD%D0%B5%D0%B4%D0%B6%D0%B5%D1%80%D0%B0_%D0%B2%D1%85%D0%BE%D0%B4%D0%B0_%D0%B2_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%83_(GDM_%D0%B8%D0%BB%D0%B8_XDM)_%D0%B2_%D0%B0%D0%B2%D1%82%D0%BE%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D1%83&action=edit&redlink=1 "Добавление экранного менеджера входа в систему (GDM или XDM) в автозагрузку (page does not exist)").

### Способ № 2: ~/.xinitrc

Отредактируйте `~/.xinitrc`, добавив в него следующий код:

```
exec fluxbox 

```

Или, если вы захотите использовать файл *startfluxbox*, замените код на следующий:

```
exec startfluxbox 

```

Запуск с помощью `startfluxbox` является более предпочтительным, так как при использовании этой команды будет прочитан и выполнен файл `~/.fluxbox/startup` (список команд автозагрузки).

**Примечание:** в файле `~/.xinitrc` команда `exec` может встречаться только один раз!

*Примечание* : если fluxbox "падает" при запуске, то это может быть связано с локалью. Установив переменную LC_ALL в значение по умолчанию, "C", можно избежать "падений"[1](https://bbs.archlinux.org/viewtopic.php?t=25797).

После добавления нужной строки в `~/.xinitrc`, fluxbox можно запустить командой startx.

## Настройка

Общесистемные конфигурационные файлы fluxbox расположены в `/usr/share/fluxbox`, а пользовательские в `~/.fluxbox`. К пользовательским конфигурационным файлам относятся:

*   `init`: основной конфигурационный файл fluxbox. Подробнее [Editing the init file](http://fluxbox-wiki.org/index.php?title=Editing_the_init_file)
*   `menu`: файл настройки меню fluxbox. См. ниже и [Editing the menu file](http://fluxbox-wiki.org/index.php?title=Editing_the_menu)
*   `keys`: файл настройки клавиатурных сочетаний fluxbox (hotkeys). См. ниже и [здесь](http://fluxbox-wiki.org/index.php?title=Keyboard_shortcuts)
*   `startup`: файл предназначенный для запуска приложений. Читать далее о [xinitrc](/index.php/Xinitrc_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Xinitrc (Русский)") и [здесь](http://fluxbox-wiki.org/index.php?title=Editing_the_startup_file)
*   `overlay`: конфигурационный файл переопределения элементов стиля. Подробнее [здесь](http://fluxbox-wiki.org/index.php?title=Style_overlay).
*   `apps`: конфигурационный файл для настройки отображения конкретных приложений. Подробнее [здесь](http://fluxbox-wiki.org/index.php?title=Editing_the_apps_file)
*   `windowmenu`: конфигурационный файл самого Window Menu: [читать здесь](http://fluxbox-wiki.org/index.php?title=Editing_the_windowmenu)

В этой директории имеются и другие, менее важные, конфигурационные файлы. Основными же являются файлы init, menu, keys и, возможно, startup.

### Меню

#### Встроенный метод

Встроенная команда

```
$ fluxbox-generate_menu

```

данная команда, исходя из установленных у вас программ, автоматически сгенерирует файл меню `~/.fluxbox/menu`. Эту команду можно выполнить выбрав в меню fluxbox пункт "helper / regenerate menu".

#### MenuMaker

Программа [MenuMaker](http://menumaker.sourceforge.net/) является мощными инструментом по созданию меню для различных менеджеров окон, в том числе и для Fluxbox, из файлов основывающихся на XML. MenuMaker просканирует систему на наличие исполняемых программ, и, по результатам сканирования, создаст файл меню. Ее можно настроить таким образом, чтоб из результатов были исключены приложения для Legacy X, GNOME, KDE, или Xfce.

MenuMaker расположен в [community] и устанавливается при помощи [pacman](/index.php/Pacman_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Pacman (Русский)"):

```
# pacman -S menumaker

```

После установки, вы можете создать полное меню, выполнив:

```
$ mmaker -v Fluxbox

```

Для получения полного списка опций, запустите **mmaker --help**.

#### Arch Linux xdg menu

Установить [XdgMenu](/index.php/XdgMenu "XdgMenu") можно с помощью pacman:

```
# pacman -S archlinux-xdg-menu

```

Создать файл меню fluxbox следующей командой:

```
$ xdg_menu --fullmenu --format fluxbox --root-menu /etc/xdg/menus/arch-applications.menu >~/.fluxbox/menu

```

**Совет:** замена по умолчанию xterm/urxvt:

```
$ sed -i 's/xterm/urxvt/g' ~/.fluxbox/menu

```

Дополнительная информация о программе:

```
$ xdg_menu --help

```

#### Создание меню вручную с помощью fluxconf

Чтобы запустить редактор меню, входящий в состав программы fluxconf, наберите:

```
$ fluxmenu

```

Окно редактора разбито на три колонки: Type, Title и Command/Comment.
Для редактирования полей нужно кликнуть по нужным.
Кнопка "Add sub" позволяет добавить подменю.
Кнопка "Add exec" откроет поле для добавления команды.

Колонка Type может принимать следующие значения:

1.  begin, необходимо для открытия и загрузки, собственно, файла меню. Поле Title в этом случае - заголовок меню.

2.  submenu, подменю в составе меню. Title - отображаемое название данного подменю.

3.  exec, строка команды. Title - название пункта меню, Command/Comment - команда для запуска.
4.  separator, разделитель пунктов меню, без дополнительных аргументов.
5.  workspaces, список рабочих столов и приложений, которые на них запущены. Title - название пункта меню.
6.  stylesdir, отображает список стилей fluxbox. Title должен принимать значение пути к директории со стилями (например - `/usr/share/fluxbox/styles`, `~/.fluxbox/styles`).
7.  config, меню с настройками для конфигурации fluxbox. В поле Title помещается название данного меню.
8.  reconfig, повторная загрузка файла конфигурации. Title - название данного пункта меню.
9.  restart, перезапустить fluxbox. Поле Title аналогично предыдущему.
10.  exit, выход из fluxbox к окну логина экранного менеджера или к консоли, в зависимости от способа настройки . Title - аналогично предыдущему.

Не забудьте нажать кнопку Save перед выходом из редактора.

#### Создание/Редактирование файла меню вручную

Воспользуйтесь командой:

```
$ nano ~/.fluxbox/menu

```

Приступайте к редактированию, добавьте новые строки в меню:

```
[exec] (name) {command} <path to icon>

```

... где "name" это название, которое будет отображаться в данном пункте меню, "command" - путь к исполняемому файлу, а "<path to icon>" - путь к файлу с иконкой, например:

```
[exec] (Firefox Browser) {/usr/bin/firefox} <path to firefox icon>

```

Обратите внимание, что "<path to icon>" не является обязательным параметром.

Для создания подменю:

```
[submenu] (Name)
...
...
[end]

```

Когда закончите редактирование, сохраните файл и выйдите из редактора. Перезапускать fluxbox нет необходимости. Для получения дополнительной информации обратитесь к [руководству по настройке меню fluxbox](http://fluxbox-wiki.org/index.php?title=Editing_the_menu).

### Init

Файл `~/.fluxbox/init` - основной конфигурационный файл FluxBox. В нем можно настроить основную функциональность fluxbox, окон, панели инструментов, фокусировку, и т.д. Некоторые из этих настроек доступны через Configuration Menu Fluxbox. Для получения дополнительной информации почитайте о [Редактировании файла init](http://fluxbox-wiki.org/index.php?title=Editing_the_init_file).

### Горячие клавиши

Горячие клавиши во fluxbox описываются в файле `~/.fluxbox/keys`. Клавиша Control задается текстом "Control", Alt - "Mod1", а Meta - "Mod4". Meta - это не стандартная клавиша, но многие привязывают ее к клавише win key.

Например, вот быстрый способ контроля уровня звука с помощью комбинации CTRL-ALT+ Стрелка вниз или вверх:

```
Control Mod1 Up :Exec amixer sset Master,0 5%+  
Control Mod1 Down :Exec amixer sset Master,0 5%- 

```

Если у вас установлен fluxconf, то вы можете настроить горячие клавиши через графический интерфейс, для этого выполните команду:

```
$ fluxkeys

```

Первое текстовое поле - для названия клавиши, второе - для действия, совершаемого по нажатию на эту клавишу. Выберите execCommand и впишите название команды в третье поле. Во втором текстовом поле доступны различные функции (выбирать в выпадающем меню).

### Рабочие столы

По умолчанию во fluxbox используются четыре рабочих стола, по которым можно переключаться при помощи Alt+F1-4 или с помощью стрелок на панели.
Вызвав меню, кликнув правой кнопкой мыши, можно выбрать пункт Workspaces и увидеть в нем список рабочих столов.

### Вкладки и Группировка

Когда на вашем рабочем столе открыто по крайней мере два окна - зажмите ctrl + левую кнопку мыши на верхней вкладке одного из окон и перетащите его на второе окно. Окна будут сгруппированы, и переключаться между ними можно будет через верхнюю панель вкладок. Теперь любое изменение активного окна будет применяться ко всем окнам входящим в "группу". Для отмены группировки - зажмите ctrl + левую кнопку мыши на нужной вкладке и перетащите ее на свободное пространство рабочего стола.

### Фон рабочего стола

Для установки фона необходима специальная программа, например:

*   [eterm](https://aur.archlinux.org/packages/eterm/)
*   [feh](https://www.archlinux.org/packages/?name=feh) (не поддерживает прозрачность меню)

Есть и другие, но эти - самые часто-используемые. Список других программ можно получить в документации к fbsetbg в секции "Дополнительных ссылок". Для установки фона выполните:

```
$ fbsetbg /путь/к/изображению

```

Также, для автоматической установки фона при логине, можно добавить или изменить нижеследующую строчку в файле `~/.fluxbox/init`:

```
session.screen0.rootCommand:	fbsetbg /путь/к/изображению

```

Или:

```
session.screen0.rootCommand:	fbsetbg -l

```

Теперь в качестве фона будет использовано последнее, заданное с помощью fbsetbg, изображение.

#### Тем, кто любит часто менять фоновое изображение

Можно добавить следующее подменю в файл меню `~/.fluxbox/menu`:

```
[submenu] (Backgrounds)
[wallpapers] (~/.fluxbox/backgrounds)
[wallpapers] (/usr/share/fluxbox/backgrounds)
[end]

```

Затем разместите нужные обои в `~/.fluxbox/backgrounds` или в том каталоге, который был указан в файле меню.

#### Feh

Установите [feh](https://www.archlinux.org/packages/?name=feh):

```
# pacman -S feh

```

Также можно добавить подменю в файл `~/.fluxbox/menu` для быстрой смены фона:

```
[submenu] (Wallpaper)
[wallpapers] (/path/to/your/wallpapers) {feh --bg-scale}
[end]

```

Теперь нужно убедится в том, что fluxbox при следующем запуске загрузит feh в фоновом режиме:

**1.** Сделайте `~/.fehbg` исполняемым:

```
$ chmod 770 ~/.fehbg

```

**2.** Добавьте (или измените) следующую строчку в файле `~/.fluxbox/init`:

```
session.screen0.rootCommand:	~/.fehbg

```

**3.** Добавьте (или измените) следующую строчку в файле `~/.fluxbox/startup`:

```
~/.fehbg

```

### Темы оформления

Чтобы установить тему, нужно распаковать архив с ней в одну из следующих директорий:

*   глобальная установка (для всех пользователей) - `/usr/share/fluxbox/styles`
*   только для вашего пользователя - `~/.fluxbox/styles`

На данный момент в [AUR](/index.php/Arch_User_Repository_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Arch User Repository (Русский)") по запросу "fluxbox-styles" можно найти множество красивых тем оформления. Расположены он здесь [[2]](https://aur.archlinux.org/packages.php?ID=28743). Просто установите этот пакет. При правильной установке новые темы появятся в разделе Styles меню Fluxbox.

Для создания собственных тем оформления ознакомьтесь с [Fluxbox Style Guide](/index.php/Fluxbox_Style_Guide "Fluxbox Style Guide") и с этим руководством [[3]](http://tenr.de/howto/style_fluxbox/style_fluxbox.html).

### Автозапуск программ

Существуют два способа автозапуска: помещение названий соответствующих команд в системный файл `~/.xinitrc` (выполняется при запуске X.Org) или в специальный файл fluxbox - `~/.fluxbox/startup`.

`~/.fluxbox/startup` это сценарий для автозапуска приложений и самого fluxbox-а. Строки комментируются символом #.

Например:

```
fbsetbg -l # устанавливает последнее заданное фоновое изображение;
           # данная команда очень часто используется пользователями fluxbox
# важно помнить, что для запуска тех программ, которые не завершаются сразу (менеджер рабочего стола и т.п.),
# следует указывать амперсанд (&) в конце строки. 
idesk & 
xterm &
# для запуска, собственно, самого fluxbox используется следующая команда (без амперсанда)
exec /usr/bin/fluxbox
# также можно сохранять лог работы fluxbox следующей командой вместо предыдущей:
exec /usr/bin/fluxbox -log ~/.fluxbox/log

```

#### Настройка клавиатуры

Просто добавьте следующую строку в файл `~/.fluxbox/startup`:

```
setxkbmap us -variant intl & # включение специальных символов клавиатуры (подобно éóíáú)

```

Вместо 'us' можно использовать свой вариант языка. Для получения дополнительной информации обратитесь к man setxkbmap.

Для добавления в меню возможности включения дополнительных символов - добавьте в файл `~/.fluxbox/menu` следующий код:

```
[submenu] (Keyboard)
      [exec] (normal) {setxkbmap us}
      [exec] (international) {setxkbmap us -variant intl}
[end]

```

#### Отключение энергосбережения

У вас имеется проблема с отключением экрана при просмотре фильмов? Поздравляем, Xorg обнаружил ваше бездействие :). Если вам не нужен режим энергосбережения, его можно полностью отключить. Но, когда вы не будете пользоваться монитором, - вам придется отключать его самостоятельно, вручную.

Просто добавьте эту строку в начало файла `~/.fluxbox/startup`:

```
xset s off -dpms &

```

### Поддержка русского языка

Для отображения русского языка в окнах и меню стоит установить подходящий шрифт в выбранной вами теме. Например (если установлен пакет [ttf-dejavu](https://www.archlinux.org/packages/?name=ttf-dejavu)):

```
*Font: -*-dejavu sans-*

```

Теперь fluxbox поддерживает русские названия, даже если вы используете локаль en_US.UTF-8.

# См. также

*   [Официальный сайт fluxbox](http://fluxbox.org/)
*   [настройка fluxbox в gentoo-wiki](http://wiki.gentoo.org/wiki/Fluxbox)
*   [темы для fluxbox](http://box-look.org/)
*   [Fluxbox Wiki](http://fluxbox-wiki.org/)
*   [Fluxbox Style Guide](/index.php/Fluxbox_Style_Guide "Fluxbox Style Guide")
*   [Narada's Fluxbox Guide](https://bbs.archlinux.org/viewtopic.php?id=77729)
*   [Archlinux-FluxBox screenshots](https://bbs.archlinux.org/viewtopic.php?id=90260)
*   The fluxbox man pages: fluxbox, fluxbox-menu, fluxbox-style, fluxbox-keys, fluxbox-apps, fluxbox-remote, fbsetroot, fbsetbg, fbrun, startfluxbox.