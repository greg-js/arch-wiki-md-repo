## Contents

*   [1 Различные драйверы для семейства Unichrome](#.D0.A0.D0.B0.D0.B7.D0.BB.D0.B8.D1.87.D0.BD.D1.8B.D0.B5_.D0.B4.D1.80.D0.B0.D0.B9.D0.B2.D0.B5.D1.80.D1.8B_.D0.B4.D0.BB.D1.8F_.D1.81.D0.B5.D0.BC.D0.B5.D0.B9.D1.81.D1.82.D0.B2.D0.B0_Unichrome)
    *   [1.1 Проприетарные драйверы VIA](#.D0.9F.D1.80.D0.BE.D0.BF.D1.80.D0.B8.D0.B5.D1.82.D0.B0.D1.80.D0.BD.D1.8B.D0.B5_.D0.B4.D1.80.D0.B0.D0.B9.D0.B2.D0.B5.D1.80.D1.8B_VIA)
    *   [1.2 Драйвер OpenChrome](#.D0.94.D1.80.D0.B0.D0.B9.D0.B2.D0.B5.D1.80_OpenChrome)
        *   [1.2.1 Устранение неполадок](#.D0.A3.D1.81.D1.82.D1.80.D0.B0.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BD.D0.B5.D0.BF.D0.BE.D0.BB.D0.B0.D0.B4.D0.BE.D0.BA)
        *   [1.2.2 Специфические настройки](#.D0.A1.D0.BF.D0.B5.D1.86.D0.B8.D1.84.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B8.D0.B5_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B8)
            *   [1.2.2.1 VIA Technologies, Inc. CN896/VN896/P4M900 [Chrome 9 HC]](#VIA_Technologies.2C_Inc._CN896.2FVN896.2FP4M900_.5BChrome_9_HC.5D)
*   [2 Unichrome и OpenGL](#Unichrome_.D0.B8_OpenGL)
*   [3 Проблемы с управлением энергосбережением](#.D0.9F.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC.D1.8B_.D1.81_.D1.83.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5.D0.BC_.D1.8D.D0.BD.D0.B5.D1.80.D0.B3.D0.BE.D1.81.D0.B1.D0.B5.D1.80.D0.B5.D0.B6.D0.B5.D0.BD.D0.B8.D0.B5.D0.BC)
*   [4 Зависание при выключении](#.D0.97.D0.B0.D0.B2.D0.B8.D1.81.D0.B0.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.B8_.D0.B2.D1.8B.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B8)
*   [5 Внешние ссылки](#.D0.92.D0.BD.D0.B5.D1.88.D0.BD.D0.B8.D0.B5_.D1.81.D1.81.D1.8B.D0.BB.D0.BA.D0.B8)

## Различные драйверы для семейства Unichrome

### Проприетарные драйверы VIA

Данные драйверы считаются нестабильными и небезопасными. Тем не менее, это единственный способ добиться хоть какого-то 3D ускорения на определенных видеокартах (поколения Chrome9). Вы можете установить драверы из AUR: [via-chrome9-dkms](https://aur.archlinux.org/packages/via-chrome9-dkms/), [xf86-video-via-chrome9](https://aur.archlinux.org/packages/xf86-video-via-chrome9/) & [via-chrome9-dri](https://aur.archlinux.org/packages/via-chrome9-dri/)

### Драйвер OpenChrome

Самый продвинутый драйвер для семейства Unichrome. Поддерживает следующие видеокарты: CLE266, KM400/KN400/KM400A/P4M800, CN400/PM800/PN800/PM880, K8M800, CN700/VM800/P4M800Pro, CX700, P4M890, K8M890 и P4M900/VN896\. Поддерживает 2D и 3D ускорение, Xvideo и декодирование mpeg2 с помощью XvMC. Этот драйвер является самым оптимальным для использования и по сути единственным решением, т.к. все остальные драйвера более не обновляются и не могут быть установлены.

Драйвер OpenChrome устанавливается с помощью следующей команды:

```
pacman -S xf86-video-openchrome

```

Наименование драйвера для файла `xorg.conf` - `openchrome.`

#### Устранение неполадок

**Черный экран при загрузке LiveCD**

Если при загрузке с LiveCD вы сталкиваетесь с появлением черного экрана, необходимо отключить модуль `viafb`. Опция `nomodeset`, скорее всего, не решит эту проблему. В опции загрузки ядра добавьте:

```
modprobe.blacklist=viafb

```

После установки системы необходимо будет внести модуль `viafb` в черный список, создав файл /etc/modprobe.d/blacklist.conf и внеся в него следующую строчку:

```
blacklist viafb

```

Чтобы следующие действия вступили в силу, необходимо создать новый файл 10-openchrome.conf в папке /etc/X11/xorg.conf.d/ и внести следующие строки:

```
Section "Device"
    Identifier "_My Device Name_"
    Driver "openchrome"
EndSection

```

Если при загрузке X-Сервера вы сталкиваетесь с артефактами изображения, или возникают проблемы с отрисовкой некоторых окон, попробуйте отлючить опцию "EnableAGPDMA" :

```
Option     "EnableAGPDMA"               "false"

```

Если компьютер зависает при загрузке (GDM) или после логина (slim), попробуйте добавить опцию XAA "XaaNoImageWriteRect". Имейте в виду,что это поможет только в том случае, если вы используйте метод ускорения XAA, который задается опцией "AccelMethod".

```
Option "XaaNoImageWriteRect"

```

Если возникают проблемы с большой нагрузкой процессора и замедленной отрисовкой окон, попробуйте добавить:

```
Option "AccelMethod" "XAA"

```

#### Специфические настройки

##### VIA Technologies, Inc. CN896/VN896/P4M900 [Chrome 9 HC]

Ускорение EXA может привести к большой нагрузке процессоры и замедленной отрисовкой окон. Обратитесь к опции "AccelMethod" в секции [#Устранение неполадок](#.D0.A3.D1.81.D1.82.D1.80.D0.B0.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BD.D0.B5.D0.BF.D0.BE.D0.BB.D0.B0.D0.B4.D0.BE.D0.BA).

## Unichrome и OpenGL

Поддержка OpenGL в чипсетах Via реализована крайне слабо и является устаревшей. На данный момент у вас не получится запустить таких ресурсоемких приложений, как игр, эффектов (например Compiz Fusion), которые используют расширения OpenGL, не поддерживаемые 3D драйвером Unichrome. Тем не менее, возможен запуск простейших приложения на OpenGL. 3D драйвер для Unichrome предоставляется проектом DRI

Для работы с OpenGL необходимо установить пакеты unichrome-dri, libgl and mesa

## Проблемы с управлением энергосбережением

Если у вас не получается настроить отключение экрана ноутбука, попробуйте добавить следующую опцию в часть **device** в `xorg.conf`:

```
Option "VBEModes" "true"

```

## Зависание при выключении

Если компьютер зависает при попытке закрыть X-сервер, попробуйте исключить драйвер vesa из ядра. Просто удалите все, что содержит vga из строчки загрузки ядра в Grub или Lilo

## Внешние ссылки

*   [OpenChrome-project](http://www.freedesktop.org/wiki/Openchrome/)
*   [Unichrome-project](http://unichrome.sourceforge.net/)