Related articles

*   [LXDE](/index.php/LXDE "LXDE")
*   [Display manager (Русский)](/index.php/Display_manager_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Display manager (Русский)")

LXDM - это легкий экранный менеджер для lxde. Пользовательский интерфейс реализован с помощью GTK+ 2.

## Contents

*   [1 Установка](#Установка)
*   [2 Настройка](#Настройка)
    *   [2.1 Сеанс по умолчанию](#Сеанс_по_умолчанию)
    *   [2.2 Глобальные настройки](#Глобальные_настройки)
    *   [2.3 Настройки пользователя](#Настройки_пользователя)
    *   [2.4 Автоматический вход в систему](#Автоматический_вход_в_систему)
    *   [2.5 Последние используемые опции](#Последние_используемые_опции)
*   [3 Советы и рекомендации](#Советы_и_рекомендации)
    *   [3.1 Добавление пользовательских иконок](#Добавление_пользовательских_иконок)
    *   [3.2 Одновременные пользователи и их переключение](#Одновременные_пользователи_и_их_переключение)
    *   [3.3 Темы](#Темы)
    *   [3.4 Расширенные настройки сеанса](#Расширенные_настройки_сеанса)
    *   [3.5 Исправление проблемы с черным фоном](#Исправление_проблемы_с_черным_фоном)

## Установка

Установите [lxdm](https://www.archlinux.org/packages/?name=lxdm) или [lxdm-git](https://aur.archlinux.org/packages/lxdm-git/). Затем, [включите](/index.php/Enable "Enable") `lxdm.service` для автоматического запуска при загрузке системы.

## Настройка

Конфигурационные файлы для lxdm расположены в /etc/lxdm/. Основной файл конфигурации - lxdm.conf. Другой файл Xsession - это системный файл конфигурации сеанса х и обычно не редактируется. Другими файлами в этой папке являются все сценарии оболочки, которые запускаются, когда в lxdm происходят определенные изменения:

1.  `LoginReady` выполняется с привилегиями root, когда lxdm готов показать окно входа в систему.
2.  `PreLogin` запускается как root, прежде чем регистрировать пользователя.
3.  `PostLogin` запускается как зарегистрированный пользователь сразу после его входа в систему.
4.  `PostLogout` запускается как зарегистрированный пользователь сразу после его выхода из системы.
5.  `PreReboot` запускается как root перед перезагрузкой с lxdm.
6.  `PreShutdown` запускается как root до отключения питания с помощью lxdm.

### Сеанс по умолчанию

Можно указать, какой сеанс будет загружен, когда пользователи выбирают сеанс по умолчанию из списка. Обратите внимание, что пользовательский параметр предпочитает глобальные настройки.

### Глобальные настройки

Отредактируйте `/etc/lxdm/lxdm.conf` изменив эту директиву, установив нужный сеанс или DE:

 `session=/usr/bin/startlxde` 

Пример для использования [Xfce](/index.php/Xfce "Xfce"):

 `session=/usr/bin/startxfce4` 

Пример для использования [Openbox](/index.php/Openbox "Openbox"):

 `session=/usr/bin/openbox-session` 

Пример для использования [GNOME](/index.php/GNOME "GNOME"):

 `session=/usr/bin/gnome-session` 

Это полезно для тем, у которых нет видимого окна выбора сеанса, и при возникновении проблем с использованием автологина.

### Настройки пользователя

Чтобы определить предпочтительный сеанс для каждого пользователя, просто отредактируйте ~/.dmrc. Пример: пользователь1 хочет использовать xfce4, пользователь2 [Cinnamon](/index.php/Cinnamon "Cinnamon"), а пользователь3 GNOME:

Пользователь1:

```
[Desktop]
Session=xfce

```

Пользователь2:

```
[Desktop]
Session=cinnamon

```

Пользователь3:

```
[Desktop]
Session=gnome

```

### Автоматический вход в систему

Для автоматического входа в систему отредактируйте соответствующую директиву в `/etc/lxdm/lxdm.conf`:

```
#autologin=dgod

```

### Последние используемые опции

Lxdm хранит информацию о последних используемых опциях в:

 `/var/lib/lxdm/lxdm.conf` 
```
[base]
last_session=/usr/share/xsessions/xfce.desktop
last_lang=
last_langs=ru_RU.UTF-8
```

## Советы и рекомендации

### Добавление пользовательских иконок

Пользовательский значок 96x96 px (jpg или png) может быть дополнительно отображен на экране входа в систему. Просто скопируйте нужное изображение в `$HOME/.face`. Пакет [gnome-control-center](https://www.archlinux.org/packages/?name=gnome-control-center) предоставляет некоторые значки по умолчанию, подходящие для lxdm. Посмотрите в `/usr/share/pixmaps/faces` после установки этого пакета.

**Примечание:** Графический инструмент `lxdm-config`, поставляемый с lxdm, может быть использован для размещения файла `.face` в домашнем каталоге вместе с другими настройками.

### Одновременные пользователи и их переключение

LXDM позволяет одновременно регистрировать нескольких пользователей в разных tty. Следующая команда используется, чтобы позволить другому пользователю войти в систему, не отключая текущего:

```
$ lxdm -c USER_SWITCH

```

**Примечание:** Когда новый пользователь входит в систему, его сеанс начнется с tty7\. Например, пользователь1 входит в систему и использует команду USER_SWITCH. Теперь пользователь2 входит в систему. Пользователь2 будет на tty7, а пользователь1 на tty1.

### Темы

Темы LXDM расположены в `/usr/share/lxdm/themes`. Существует только одна тема, предоставляемая LXDM, а именно Industrial. Чтобы отобразить фоновое изображение, содержащееся в файле `wave.svg` темы, убедитесь, что вы установили [librsvg](https://www.archlinux.org/packages/?name=librsvg).

Пакет [lxdm-themes](https://aur.archlinux.org/packages/lxdm-themes/) предоставляет 6 дополнительных тем. Archlinux, ArchlinuxFull, ArchlinuxTop, Arch-Dark, Arch-Stripes и IndustrialArch. Темы ArchStripes и ArchDark также доступны в [lxdm-git](https://aur.archlinux.org/packages/lxdm-git/) (с другими названиями, чтобы избежать конфликтов).

Вы можете изменить тему в `/etc/lxdm/lxdm.conf`:

```
## the theme of greeter
theme=theme_name

```

LXDM также можно настроить для использования темы GTK (сохраненной в `/usr/share/themes`) в указанном файле конфигурации:

```
## GTK theme
gtk_theme=gtk_theme_name

```

### Расширенные настройки сеанса

После входа в систему LXDM будет загружать все следующие файлы (загруженные по порядку сверху):

1.  `/etc/profile`
2.  `~/.profile`
3.  `/etc/xprofile`
4.  `~/.xprofile`

Эти файлы могут использоваться для запуска служб, которые должны устанавливать определенные переменные среды, чтобы клиенты могли использовать эту службу, например, ssh-agent. Подробнее см [Xprofile](/index.php/Xprofile "Xprofile"). Обратите внимание, что LXDM не читает `~/.xinitrc`, поэтому для тех, кто переходит от DM, который использует этот файл, например [SLiM](/index.php/SLiM "SLiM"), придется перемещать свои настройки в другое место (например, `~/.xprofile`). Также обратите внимание, что LXDM не читает `~/.bash_profile`. Если вы все еще хотите использовать файл `~/.xinitrc`, вы можете добавить строку в файл события `/etc/lxdm/PostLogin`:

```
source ~/.xinitrc

```

LXDM также использует [Xresources](/index.php/Xresources "Xresources"), [Xkbmap](/index.php/Xkbmap "Xkbmap"), и [Xmodmap](/index.php/Xmodmap "Xmodmap"). Подробнее о файлах пользовательских настроек см `/etc/lxdm/Xsession`.

### Исправление проблемы с черным фоном

Когда LXDM использует тему Industrial, а фоновое изображение установлено на черный, может происходить мигание до запуска LXDM. Это вызвано свойством bg_color выбранной темы. Чтобы этого избежать замените тему по умолчанию на темную (Например gtk_theme=Adwaita-dark).