[Dropbox](https://www.dropbox.com) - это сервис облачного хранилища данных, у которого относительно недавно появился клиент GNU/Linux. Используется для прозрачной синхронизации файлов между разными устройствами. Делается все довольно просто - помещённые в выбранный каталог файлы автоматически синхронизируются с центральным хранилищем.

## Contents

*   [1 Установка](#.D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0)
    *   [1.1 Дополнительные зависимости](#.D0.94.D0.BE.D0.BF.D0.BE.D0.BB.D0.BD.D0.B8.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D1.8B.D0.B5_.D0.B7.D0.B0.D0.B2.D0.B8.D1.81.D0.B8.D0.BC.D0.BE.D1.81.D1.82.D0.B8)
    *   [1.2 Автозапуск Dropbox](#.D0.90.D0.B2.D1.82.D0.BE.D0.B7.D0.B0.D0.BF.D1.83.D1.81.D0.BA_Dropbox)
*   [2 Использование web-интерфейса](#.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_web-.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.B0)
*   [3 Запуск при помощи systemd](#.D0.97.D0.B0.D0.BF.D1.83.D1.81.D0.BA_.D0.BF.D1.80.D0.B8_.D0.BF.D0.BE.D0.BC.D0.BE.D1.89.D0.B8_systemd)
*   [4 Защита данных](#.D0.97.D0.B0.D1.89.D0.B8.D1.82.D0.B0_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85)
    *   [4.1 Использование EncFS с Dropbox](#.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_EncFS_.D1.81_Dropbox)

## Установка

Установите пакет [dropbox](https://aur.archlinux.org/packages/dropbox/). Кроме того, имеется тестовая версия - [dropbox-experimental](https://aur.archlinux.org/packages/dropbox-experimental/).

1.  После установки пакета вы можете запустить Dropbox из меню или скомандовать `dropboxd` в вашем любимом терминале. Иконка клиента появится в трее
2.  Появится сообщение о том, что Dropbox запущен впервые. Нажмите _Don't ask again_, так как вы знаете, что установили клиент из [AUR](/index.php/Arch_User_Repository_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Arch User Repository (Русский)"), а не с официального сайта
3.  Далее вам будет предложено авторизоваться (если у вас уже есть аккаунт), либо зарегистрироваться
4.  В конце концов вы увидите сообщение "Welcome to Dropbox", которое означает, что установка прошла успешно и можно начинать работу. Также будет предложено пройти небольшой курс ознакомления

Для пользователей [KDE](/index.php/KDE_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "KDE (Русский)") больше не требуется совершать никаких действий, так как KDE запоминает запущенные приложения при выходе и запускает их вновь при следующем входе. То же относится и к пользователям [Xfce](/index.php/Xfce_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Xfce (Русский)"): файл `dropbox.desktop` будет автоматически помещён в каталог `~/.config/autostart`.

### Дополнительные зависимости

*   Для управления службой из консоли установите пакет [dropbox-cli](https://aur.archlinux.org/packages/dropbox-cli/)
*   Для интеграции с [GNOME Files](/index.php/GNOME_Files "GNOME Files") установите пакет [nautilus-dropbox](https://aur.archlinux.org/packages/nautilus-dropbox/)
*   Для интеграции с [Nemo](/index.php/Nemo "Nemo") установите пакет [nemo-dropbox](https://aur.archlinux.org/packages/nemo-dropbox/)
*   Для интеграции с [Thunar](/index.php/Thunar_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "Thunar (Русский)") установите пакет [thunar-dropbox](https://aur.archlinux.org/packages/thunar-dropbox/)
*   Для интеграции с Caja установите пакет [caja-dropbox](https://aur.archlinux.org/packages/caja-dropbox/)
*   Для пользователей [KDE](/index.php/KDE_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9) "KDE (Русский)") существует клиент [kfilebox](https://aur.archlinux.org/packages/kfilebox/)

### Автозапуск Dropbox

Dropbox может запускаться автоматически после добавления `dropboxd` в файл `~/.xinitrc` (или `~/.config/openbox/autostart`, зависит от вашей установки). Иначе Dropbox можно [запустить как демон](#.D0.97.D0.B0.D0.BF.D1.83.D1.81.D0.BA_.D0.BF.D1.80.D0.B8_.D0.BF.D0.BE.D0.BC.D0.BE.D1.89.D0.B8_systemd).

## Использование web-интерфейса

Возможно, вам просто необходимо хранилище файлов вне ваших устройств без синхронизации. В этом случае возможно использовать лишь web-интерфейс сервиса, расположенный по адресу [https://www.dropbox.com](https://www.dropbox.com)

## Запуск при помощи systemd

Последнии версии Dropbox поставляются вместе с файлом `.service` для systemd. Запустив демон, вы не увидите иконки в трее, однако синхронизация файлов будет работать.

Для запуска демона:

```
# systemctl enable dropbox@<user>

```

Обратите внимание, что демон запустится только при следующем входе в систему, так что если Dropbox вам нужен сейчас - необходимо запустить его вручную.

## Защита данных

Если вы собираетесь хранить конфиденциальные данные в Dropbox, тогда рекомендуется зашифровать их перед отправкой в облако. Синхронизация файлов проходит по SSL, однако после того, как они попадают в центральное хранилище они никоим образом не шифруются.

*   Dropbox может работать с [TrueCrypt](/index.php/TrueCrypt "TrueCrypt"), и после добавления тома TrueCrypt в Dropbox эффективность довольно неплоха, т.к. Dropbox работает за счет сравнения хешей файлов.

*   Другая возможность заключается в использовании [EncFS](/index.php/EncFS "EncFS"). Преимущество - все файлы шифруются по отдельности, т.е. вы не должны заранее определять размер данных, которые хотите зашифровать. Вы также можете монтировать зашифрованный том при запуске системы, используя ключ `-S` в команде `encfs`, чтобы избежать необходимости вводить пароль. Однако помните, что в таком случае доступ к вашим файлам будет иметь любой, кто имеет доступ к вашему компьютеру.

### Использование EncFS с Dropbox

Установите [EncFS](/index.php/EncFS "EncFS"), как написано в wiki.

Далее будет предполагаться, что Dropbox-директория у вас `~/Dropbox`

Создайте папку. В ней будут находиться файлы, которые вы хотите синхронизировать.

```
$ mkdir ~/Private

```

Запустите следующую команду и введите пароль, когда потребуется:

```
$ encfs ~/Dropbox/Encrypted ~/Private

```

Ваш зашифрованный каталог готов. Помещение в директорию `Private` любого файла автоматически создаст его зашифрованную копию в {{ic|~/Dropbox/Encrypted}, которая будет синхронизирована с вашим хранилищем.

Чтобы монтировать директорию EncFS при каждой загрузке, следуйте инструкциям из wiki: [https://wiki.archlinux.org/index.php/EncFS#User_friendly_mounting](https://wiki.archlinux.org/index.php/EncFS#User_friendly_mounting)